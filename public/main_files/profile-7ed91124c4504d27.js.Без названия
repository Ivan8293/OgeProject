(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277,3590],{99813:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(85131)}])},12598:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var a=n(85893),i=n(11163),s=n(3850),o=n(67294),r=n(34067),l=n(63885),c=n(53626),d=n(56760),m=n(59466),u=n(21165),p=n(83992);var h=n(58919),x=n(43899);const f=(0,c.Z)((e=>({wrapper:{display:"flex",justifyContent:"space-between",width:"100%",paddingTop:12,[e.breakpoints.down("md")]:{paddingTop:8}},logo:{width:205,height:60,[e.breakpoints.down("md")]:{width:84,height:30}},uchiLogo:{width:205,height:60,[e.breakpoints.down("md")]:{width:"125px"}},logoutBtn:{[e.breakpoints.down("md")]:{fontSize:"12px","& > span":{marginLeft:"10px",padding:"5px 20px","& > svg":{fontSize:"20px !important"}}}}})));var g=e=>{let{showLogout:t=!1,isUchiRuPage:n=!1}=e;const c=f(),{t:g}=(0,s.$G)("common"),{asPath:b}=(0,i.useRouter)(),v=(0,d.Z)(),j=b.includes("self_appointment_to_attestation"),w=(0,l.Z)(v.breakpoints.down("md")),[y,N]=(0,o.useState)(!1);(0,o.useEffect)((()=>{window.document.location.href.includes("study/link_accounts/uchi_ru")&&(async()=>{const{experiment:e}=await(0,u.p5)();e.findIndex((e=>"uchi_doma"===e))>=0&&N(!0)})().catch(console.error)}),[]);return(0,a.jsxs)("div",{className:c.wrapper,children:[(0,a.jsx)("a",{href:"/",target:n&&"_blank",children:(0,a.jsx)(h.Z,{className:n?c.uchiLogo:c.logo,isShowUchiDomaLogo:y,size:w&&!n?"small":"default"})}),t&&(0,a.jsx)(r.Z,{variant:"outlined",color:"primary",endIcon:(0,a.jsx)(x.mrv,{}),onClick:async e=>{if(e.preventDefault(),j)try{await(async()=>(await p.hi.post("/api/v2/tutor_onboarding/skip_self_appointment_to_attestation")).data.payload)();(0,m.k)()}catch(e){console.log(e)}else(0,m.k)()},type:"submit",className:c.logoutBtn,children:g("logout")})]})}},32631:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var a=n(85893),i=n(11163),s=(n(26747),n(67294)),o=n(2664),r=n(53626),l=(n(62219),n(87547),n(60528),n(45725),n(36716));const c="link_accounts",d="sign";var m=n(21152),u=n(53135),p=(n(54587),n(90557)),h=(n(74476),n(44879)),x=(n(96887),n(87829)),f=(n(28791),n(57957)),g=n(51153),b=n(56520),v=(n(72567),n(82672),n(12598));const j=(0,r.Z)((e=>({wrapper:{height:"100%",display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"1fr auto",gridTemplateAreas:'"sidebar main" "sidebar footer"',direction:e.direction},sidebar:{gridArea:"sidebar",boxSizing:"border-box",justifySelf:"start",[e.breakpoints.down("md")]:{width:h.vg.sm},[e.breakpoints.between("md","lg")]:{width:h.vg.md},[e.breakpoints.between("lg","xl")]:{width:h.vg.lg},[e.breakpoints.up("xl")]:{width:h.vg.xl}},content:{gridArea:"main",boxSizing:"border-box",justifySelf:"center"},contentLimitedWidth:{[e.breakpoints.down("md")]:{width:h.MP.sm},[e.breakpoints.between("md","lg")]:{width:h.MP.md,padding:"0 32px"},[e.breakpoints.between("lg","xl")]:{width:h.MP.lg,padding:"0 36px"},[e.breakpoints.up("xl")]:{width:h.MP.xl,padding:"0 36px"}},contentFullWidth:{width:"100%"},shield:{gridArea:"banner",width:"100%"},wrapperForUchiRuPage:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"stretch",maxWidth:1440,margin:"0 auto",padding:"0 80px",[e.breakpoints.between("lg","md")]:{padding:"0 48px"},[e.breakpoints.down("md")]:{padding:"0 17px"}},mainForUchiRuPage:{flexGrow:1}}))),w={isFooterVisible:!0,isMainFullWidth:!1};function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return n=>{const r=j(),h=(0,i.useRouter)(),{pathname:w}=h,[y,N]=(0,s.useState)(!0),{isFooterVisible:_,isMainFullWidth:F}=t,k=F?r.contentFullWidth:r.contentLimitedWidth;return(0,s.useEffect)((()=>{var e,t,n;null===(n=window)||void 0===n||null===(t=n.flocktory)||void 0===t||null===(e=t.reInit)||void 0===e||e.call(t);sessionStorage.getItem(d)&&w.includes(c)&&N(!1)}),[]),(0,a.jsx)(a.Fragment,{children:y?(0,a.jsxs)(o.zt,{store:(0,l.ZP)(n.initialStore),children:[(0,a.jsx)(g.Z,{}),(0,a.jsxs)("div",{className:r.wrapper,children:[(0,a.jsx)("div",{className:r.sidebar,children:(0,a.jsx)(u.Z,{})}),(0,a.jsxs)("main",{className:"".concat(r.content," ").concat(k),children:[(0,a.jsx)(p.Z,{isParentFullWidth:F}),(0,a.jsx)(x.Z,{position:f.Ly.TOP}),(0,a.jsx)(e,{...n}),(0,a.jsx)(x.Z,{position:f.Ly.BOTTOM})]}),_&&(0,a.jsx)(m.Z,{})]}),(0,a.jsx)(b.Z,{})]}):(0,a.jsx)(o.zt,{store:(0,l.ZP)(n.initialStore),children:(0,a.jsxs)("div",{className:r.wrapperForUchiRuPage,children:[(0,a.jsx)(v.Z,{showLogout:!0,isUchiRuPage:!0}),(0,a.jsx)("div",{className:r.mainForUchiRuPage,children:(0,a.jsx)(e,{...n})})]})})})}}},30978:function(e,t,n){"use strict";n.d(t,{D:function(){return a},l:function(){return i}});const a=(e,t)=>{let n;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];clearTimeout(n),n=setTimeout((()=>{n=null,e.apply(undefined,i)}),t||200)}},i=(e,t)=>{let n,a=!1;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(!a&&!a){const i=undefined;e.apply(i,s),a=!0,n=setTimeout((()=>{a=!1,clearTimeout(n)}),t||200)}}}},79025:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var a=n(30978);const i=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(0,a.l)(e,t):(0,a.D)(e,t);return e=>(e.persist(),n(e))}},7463:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(85893),i=n(67294),s=n(29742);let o,r=!1,l=!1;function c(e,t){return(0,i.forwardRef)(((n,c)=>{const[d,m]=(0,i.useState)(""),[u,p]=(0,i.useState)(!1);let h;const x=e=>{27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),f()),h&&h(e)},f=()=>{n.onClose&&n.onClose(),o&&o(),p(!1),document.body.onkeydown=h};return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(s.Z,{isOpen:u,onClose:f,className:t||"",closeOutside:r,shouldCloseOnOverlayClick:l,children:d}),(0,a.jsx)(e,{...n,ref:c,openModal:(e,t,n,a)=>{m(e),p(!0),h=document.body.onkeydown,document.body.onkeydown=x,o=t,r=n,l=a},closeModal:f})]})}))}},63738:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(85893),i=n(67294),s=n(45697),o=n.n(s),r=n(79025);n(50335);const l=new(n(46738))("button");class c extends i.PureComponent{render(){const{active:e,round:t,yellow:n,children:i,onClick:s,timeout:o,className:c,title:d,icon:m,size:u,color:p,disabled:h,refFn:x}=this.props,f="".concat(l.name(e?"active":"",t?"round":"",n?"yellow":"",h?"disabled":"",m||"",u,p)," ").concat(c," ");return(0,a.jsx)("button",{title:d,className:f,onClick:(0,r.X)(s,o,!0),type:"button",color:"",ref:x,disabled:h,children:i})}}c.propTypes={children:o().node,onClick:o().func,timeout:o().number,active:o().bool,disabled:o().bool,round:o().bool,className:o().string,title:o().string,yellow:o().bool,icon:o().string,size:o().oneOf(["small","large",""]),color:o().string,refFn:o().func},c.defaultProps={children:"",active:!1,disabled:!1,round:!1,onClick:()=>{},timeout:500,className:"",title:void 0,yellow:!1,icon:"",size:"",color:"",refFn:null}},75924:function(e,t,n){"use strict";n.d(t,{Z:function(){return a.Z}});var a=n(63738)},77445:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(85893),i=n(67294),s=n(73935),o=n(76743),r=n(46738),l=n.n(r);n(32595);const c=new(l())("modal-popup");class d extends i.PureComponent{render(){const{isOpen:e,children:t,className:n,closeOutside:i=!1,overlayRef:r,onScroll:l,onClose:d,sharpEdged:m=!1}=this.props,u="".concat(c.name()," ").concat(n||""),p=l&&r?()=>l(r):()=>{},h=(0,a.jsx)(o.Z,{in:e,timeout:750,classNames:c.name(),unmountOnExit:!0,nodeRef:this.nodeRef,children:(0,a.jsx)("div",{ref:this.nodeRef,children:(0,a.jsxs)("div",{className:u,ref:r||null,onScroll:p,onClick:this.handleClickOutside,children:[i&&(0,a.jsx)("div",{className:c.elem("close"),onClick:this.close,children:"Закрыть"}),(0,a.jsxs)("div",{className:c.elem("content","".concat(m?"sharp-edged":"")),ref:this.getContentRef(),children:[!i&&d&&(0,a.jsx)("div",{className:c.elem("close"),onClick:this.close,children:"Закрыть"}),t]})]})})});return s.createPortal(h,document.body)}constructor(...e){super(...e),this.contentRef=i.createRef(),this.nodeRef=i.createRef(),this.handleClickOutside=e=>{const{shouldCloseOnOverlayClick:t,isOpen:n}=this.props,a=this.getContentRef();t&&n&&a&&!a.current.contains(e.target)&&this.close()},this.close=()=>{const{onClose:e}=this.props;e&&e()},this.getContentRef=()=>{const{contentRef:e}=this.props;return e||this.contentRef}}}},29742:function(e,t,n){"use strict";n.d(t,{Z:function(){return a.Z}});var a=n(77445)},67455:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(85893),i=n(67294),s=n(46738),o=n.n(s),r=n(20698),l=n(75924);n(62015);const c=new(o())("modal-popup-content"),d={error:"😔",warning:"💡",success:"🌟",pending:"⌛"};class m extends i.PureComponent{render(){const{title:e,type:t,text:n,hint:s,content:o="",buttons:m,closeModal:u,className:p}=this.props,h=e||(t?"".concat((0,r.ZP)(t)," ").concat(d[t]):""),x="".concat(c.name()," ").concat(p||"");return(0,a.jsxs)("div",{className:x,"data-modal-type":t,children:[!!h&&(0,a.jsx)("div",{className:c.elem("title"),children:h}),n&&(0,a.jsx)("div",{className:c.elem("text"),children:n}),o&&(0,a.jsx)("div",{className:c.elem("content"),children:o}),(0,a.jsx)("div",{className:c.elem("buttons"),children:m?m.map((e=>{let{text:t,...n}=e;return(0,i.createElement)(l.Z,{...n,key:t},t)})):(0,a.jsx)(l.Z,{onClick:u,children:(0,r.ZP)("close")})}),s&&(0,a.jsx)("div",{className:c.elem("hint"),children:s})]})}}},85131:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return A},default:function(){return M}});var a=n(85893),i=n(32631),s=n(3850),o=n(67294),r=n(2664),l=n(14890),c=n(83992);const d="/api/tutor_payments_edit",m=async e=>(await c.hi.post("/api/me/tutor/edit/edit_no_intro",e)).data.payload,u=async e=>(await c.hi.post("/api/me/tutor/edit/profile",e)).data.payload;var p=n(67455),h=n(74476),x=n(7463),f=n(73845),g=n(94176),b=n(63885),v=n(33367),j=n(34067),w=n(53875),y=n(72984),N=n(80646),_=n(37598),F=n(53626),k=n(56760),Z=n(29523),C=n(43899),S=n(81608),I=n(4492);const R=e=>{let{requisitesFormData:t,isRequisitesFormDisabled:n,onRequisitesFormEdit:i,onRequisitesFormSubmit:o,onRequisitesFormCancel:r,onRequisiteFieldChange:l,isSubmitBtnDisabled:c,isUchiDoma:d}=e;const{t:m}=(0,s.$G)("pages.profile"),u=(e=>(0,F.Z)((t=>({requisitesForm:{padding:"20px 0"},requisitesFormWrap:{display:"flex",flexWrap:"wrap",paddingBottom:10,paddingTop:10},requisitesField:{display:"flex",alignItems:"center",flexGrow:1,paddingRight:30,marginBottom:e?5:30,[t.breakpoints.down("md")]:{paddingRight:0,flexDirection:"column",alignItems:"flex-start",marginBottom:e?0:12}},requisitesInput:{flexGrow:1,outline:"none",borderRadius:"66px",border:"1px solid ".concat(e?"transparent":"#c4c4c4"),padding:"13px 14px 14px",backgroundColor:e?"transparent":t.palette.background.paper,...t.typography.body1,"-webkit-text-fill-color":t.palette.text.primary,opacity:1,"&:hover":{border:"1px solid ".concat(e?"transparent":t.palette.text.primary)},"&:active, &:focus":{border:"1px solid ".concat(e?"transparent":t.palette.primary.main)},"&:-webkit-autofill":{"-webkit-box-shadow":"inset 0 0 0 50px #f9f9f9 !important",border:e?"none":"1px solid #c4c4c4"},[t.breakpoints.down("md")]:{width:"100%",padding:"8px 10px",fontSize:14}},requisitesLabel:{marginRight:e?0:12,[t.breakpoints.down("md")]:{marginBottom:e?0:5}},accountNumberField:{flexGrow:e?1:8,maxWidth:e?"50%":"100%",[t.breakpoints.down("lg")]:{maxWidth:"100%"}},cardField:{width:"100%"},requisitesFormBtnWrap:{display:"flex"},requisitesFormSubmitBtn:{marginRight:40}}))))(n)(),p=(0,k.Z)(),h=(0,b.Z)(p.breakpoints.down("md")),x=!t.active&&!d;return(0,a.jsxs)("form",{className:u.requisitesForm,children:[x&&(0,a.jsx)(S.Z,{variant:h?"subtitle2":"subtitle1",color:"error",children:m("requisites_no_confirm")}),(0,a.jsxs)("div",{className:u.requisitesFormWrap,children:[(0,a.jsxs)("div",{className:u.requisitesField,children:[(0,a.jsx)(S.Z,{className:u.requisitesLabel,variant:h?"h6":"h5",children:"".concat(m("inn"),"*:")}),(0,a.jsx)("input",{className:u.requisitesInput,name:"inn",value:t.inn,disabled:n,onChange:l,placeholder:n?"":m("enter_max_length",{maxLength:12})})]}),(0,a.jsxs)("div",{className:u.requisitesField,children:[(0,a.jsx)(S.Z,{className:u.requisitesLabel,variant:h?"h6":"h5",children:"".concat(m("bic"),"*:")}),(0,a.jsx)("input",{className:u.requisitesInput,name:"bic",value:t.bic,disabled:n,onChange:l,placeholder:n?"":m("enter_max_length",{maxLength:12})})]}),(0,a.jsxs)("div",{className:"".concat(u.requisitesField," ").concat(u.accountNumberField),children:[(0,a.jsx)(S.Z,{className:u.requisitesLabel,variant:h?"h6":"h5",children:"".concat(m("account_number"),"*:")}),(0,a.jsx)("input",{className:u.requisitesInput,name:"accountNumber",value:t.accountNumber,disabled:n,onChange:l,placeholder:n?"":m("enter_max_length_without_spaces",{maxLength:20})})]}),(0,a.jsxs)("div",{className:u.requisitesField,children:[(0,a.jsx)(S.Z,{className:u.requisitesLabel,variant:h?"h6":"h5",children:"".concat(m("valuta"),":")}),(0,a.jsx)("input",{className:u.requisitesInput,name:"valuta",value:t.valuta,disabled:n,onChange:l})]}),(0,a.jsxs)("div",{className:"".concat(u.requisitesField," ").concat(u.cardField),children:[(0,a.jsx)(S.Z,{className:u.requisitesLabel,variant:h?"h6":"h5",children:"".concat(m("card_number"),":")}),(0,a.jsx)("input",{className:u.requisitesInput,name:"card",value:t.card,disabled:n,onChange:l})]}),(0,a.jsxs)("div",{className:u.requisitesField,children:[(0,a.jsx)(S.Z,{className:u.requisitesLabel,variant:h?"h6":"h5",children:"".concat(m("bank_name"),":")}),(0,a.jsx)("input",{className:u.requisitesInput,name:"bankName",value:t.bankName,disabled:n,onChange:l})]})]}),n?(0,a.jsx)(j.Z,{size:"small",onClick:i,children:m(h?"edit":"edit_requisites")}):(0,a.jsxs)("div",{className:u.requisitesFormBtnWrap,children:[(0,a.jsx)(j.Z,{className:u.requisitesFormSubmitBtn,size:"small",onClick:o,disabled:c,children:m(h?"save":"save_requisites")}),(0,a.jsx)(j.Z,{size:"small",variant:"outlined",onClick:r,children:m("cancel")})]})]})};var q=(0,o.memo)(R);let T;var B=(0,l.qC)((0,r.$j)((e=>{let{profileTutor:{requisitesFormData:t}}=e;return{requisitesFormData:t}}),(e=>(0,l.DE)(f.Nw,e))),x.Z)((e=>{let{tutorId:t,requisitesFormData:n,setRequisitesData:i,setRequisiteField:l,openModal:m,closeModal:u}=e;const{t:x}=(0,s.$G)("pages.profile"),[f,g]=(0,o.useState)(!0),[b,v]=(0,o.useState)(!0),j=(0,r.v9)(h.T8),w=null==j?void 0:j.includes("uchi_doma"),y=()=>{const e=n.inn&&n.bic&&n.accountNumber;let t;T&&(t=Object.keys(n).find((e=>String(T[e]).trim()!==String(n[e]).trim())));v(!e||!t)};(0,o.useEffect)((()=>{(async()=>{try{const e=await(async e=>(await c.hi.get("".concat(d,"/").concat(e))).data.payload)(t),n={inn:e.inn,bic:e.bic,accountNumber:e.account_numbeer,valuta:e.valuta,card:e.card,bankName:e.bank_name,active:e.active,dateOfEdit:e.date_of_edit,dateOffert:e.date_offert};i(n),T={...n}}catch(e){m((0,a.jsx)(p.Z,{text:x("error_loading_requisites"),type:"error",closeModal:u})),T={...n}}})()}),[]),(0,o.useEffect)(y,[n]);return(0,a.jsx)(q,{requisitesFormData:n,isRequisitesFormDisabled:f,onRequisitesFormEdit:()=>{g(!1),y()},onRequisitesFormCancel:()=>{i(T),g(!0)},onRequisitesFormSubmit:async()=>{const e={inn:n.inn,bic:n.bic,account_numbeer:n.accountNumber,card:n.card,valuta:n.valuta,bank_name:n.bankName,tutor_id:t,date_of_edit:n.dateOfEdit,date_offert:n.dateOffert};try{g(!0),await(async(e,t)=>(await c.hi.post("".concat(d,"/").concat(e),t)).data.payload)(t,e),m((0,a.jsx)(p.Z,{text:x("change_success"),type:"success",closeModal:u})),T={...n}}catch(e){g(!1),m((0,a.jsx)(p.Z,{text:x("change_error"),type:"error",closeModal:u}))}},onRequisiteFieldChange:e=>{const{name:t,value:n}=e.target,a="bankName"===t;((e,t)=>{const n=/(^\d*)$/;if(t)switch(e){case"inn":case"bic":return n.test(t)&&t.length<=12;case"accountNumber":return n.test(t)&&t.length<=20;case"card":return n.test(t);default:return!0}return!0})(t,n)&&l({name:t,value:a?n:n.trim()})},isSubmitBtnDisabled:b,isUchiDoma:w})}));const W=e=>{let{tutorSubjects:t,isInfoFormDisabled:n,tutorInfoFormData:i,isFileSizeWarning:o,onAvatarClick:r,onTextFieldChange:l,onCheckboxFieldChange:c,onTutorInfoFormEdit:d,onTutorInfoFormSubmit:m,onTutorInfoFormCancel:u,employmentTerm:p,pupilsAge:h,tutorId:x,isIntroDisabledByAdmin:f,avatarRef:R}=e;const q=(e=>(0,F.Z)((t=>({main:{padding:"40px 30px",[t.breakpoints.down("md")]:{padding:"20px 15px"}},avatarWrap:{display:"flex",flexDirection:"column",minWidth:"fit-content",alignItems:"center",marginRight:40,[t.breakpoints.down("md")]:{marginRight:24,maxWidth:"fit-content"}},avatar:{width:200,height:200,backgroundColor:"white",borderRadius:20,marginBottom:15,[t.breakpoints.down("md")]:{width:100,height:100,marginBottom:6},"& .MuiAvatar-root":{width:"100%",height:"100%",borderRadius:20}},avatarBtn:{padding:"10px 18px"},profileHeader:{display:"flex",paddingBottom:25,borderBottom:"1px solid ".concat(t.palette.action.selected),[t.breakpoints.down("md")]:{flexDirection:"column",paddingBottom:0}},profileHeaderWrap:{display:"flex"},headerFieldWrap:{display:"flex",alignItems:"baseline",marginTop:4,[t.breakpoints.down("lg")]:{flexDirection:"column"}},headerIntroFieldWrap:{display:"flex",marginTop:4,"& svg":{transform:"scale(1.2)"}},headerFieldTitle:{marginRight:10,minWidth:"fit-content"},listSubjects:{listStyle:"none",padding:0,display:"flex",flexWrap:"wrap",marginTop:20,"& li:last-child":{marginRight:0},[t.breakpoints.down("md")]:{marginTop:5}},subject:{backgroundColor:t.palette.background.paper,border:"1px solid ".concat(t.palette.primary.main),padding:"6px 8px",borderRadius:"8px",marginRight:15,marginBottom:15,cursor:"default"},infoForm:{paddingBottom:40,borderBottom:"1px solid ".concat(t.palette.action.selected)},tutorInfoFormWrap:{paddingTop:30,display:"flex",flexWrap:"wrap",[t.breakpoints.down("md")]:{paddingTop:15,flexDirection:"column"}},tutorInfoField:{width:"50%",marginBottom:24,paddingRight:50,[t.breakpoints.down("md")]:{width:"100%",marginBottom:16,paddingRight:0}},textArea:{width:"100%",resize:"none",padding:e?0:"10px",border:"1px solid #c4c4c4",borderRadius:"10px","&:focus-visible":{outline:"none",border:"1px solid ".concat(t.palette.primary.main)},...t.typography.body2,"&:disabled":{border:"none",background:"transparent",color:t.palette.text.primary},"-webkit-text-fill-color":t.palette.text.primary,opacity:1},label:{marginBottom:7},tutorNameFieldWrap:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",width:"50%",paddingRight:50,marginBottom:24,[t.breakpoints.down("md")]:{width:"100%",paddingRight:0,marginBottom:12}},nameField:{width:"45%","& .MuiInputBase-root":{height:"54px !important"},[t.breakpoints.down("lg")]:{width:"100%"}},lastNameField:{width:"45%","& .MuiInputBase-root":{height:"54px !important"},[t.breakpoints.down("lg")]:{width:"100%",marginTop:26}},middleName:{width:"100%",marginTop:26,"& .MuiInputBase-root":{height:"54px !important"}},inputForUpload:{display:"none"},warningText:{maxWidth:200,marginBottom:10,textAlign:"center",[t.breakpoints.down("lg")]:{maxWidth:100,marginBottom:3,fontSize:12,lineHeight:"16px"}},InfoFormBtnWrap:{display:"flex"},infoFormSubmitBtn:{marginRight:40}}))))(n)(),T=(0,k.Z)(),W=(0,b.Z)(T.breakpoints.down("md")),{t:z}=(0,s.$G)("pages.profile"),D=[{name:"about",label:z("about")},{name:"education",label:z("education")},{name:"professionalBackground",label:z("professional_background")},{name:"certificates",label:z("certificates")},{name:"pupilsAchievements",label:z("pupils_achievements")},{name:"teachingPrinciples",label:z("teaching_principles")},{name:"interests",label:z("interests")}],A=()=>(0,a.jsxs)("div",{children:[(0,a.jsx)(S.Z,{variant:W?"h5":"h2",children:i.surname}),(0,a.jsx)(S.Z,{variant:W?"h5":"h2",children:"".concat(i.name," ").concat(i.middleName)})]});return(0,a.jsxs)("div",{className:q.main,children:[(0,a.jsxs)("div",{className:q.profileHeader,children:[(0,a.jsxs)("div",{className:q.profileHeaderWrap,children:[(0,a.jsxs)("div",{className:q.avatarWrap,children:[(0,a.jsx)("div",{className:q.avatar,children:(0,a.jsx)(Z.Z,{src:i.avatarLink,userId:x})}),!n&&(0,a.jsxs)(a.Fragment,{children:[o&&(0,a.jsx)(S.Z,{className:q.warningText,variantMapping:{h6:"p"},color:"error",children:z("file_size_limit")}),(0,a.jsxs)("label",{htmlFor:"uploadAvatar",children:[(0,a.jsx)("input",{className:q.inputForUpload,accept:"image/*,image/jpeg",multiple:!0,id:"uploadAvatar",type:"file",ref:R,onChange:r}),W?(0,a.jsx)(v.Z,{color:"primary",component:"span",children:(0,a.jsx)(g.Z,{})}):(0,a.jsx)(j.Z,{className:q.avatarBtn,size:"small",component:"span",children:z("choose_avatar")})]})]})]}),W&&A()]}),(0,a.jsxs)("div",{children:[!W&&A(),(0,a.jsxs)("div",{className:q.headerFieldWrap,children:[(0,a.jsx)(S.Z,{className:q.headerFieldTitle,variant:W?"h6":"h5",children:"".concat(z("education"),":")}),(0,a.jsx)(S.Z,{variant:"body2",children:i.education})]}),(0,a.jsxs)("div",{className:q.headerFieldWrap,children:[(0,a.jsx)(S.Z,{className:q.headerFieldTitle,variant:W?"h6":"h5",children:"".concat(z("employment_term"),":")}),(0,a.jsx)(S.Z,{variant:"body2",children:"".concat(p," ").concat((0,I.Z)(p,"год","года","лет"))})]}),(0,a.jsxs)("div",{className:q.headerFieldWrap,children:[(0,a.jsx)(S.Z,{className:q.headerFieldTitle,variant:W?"h6":"h5",children:"".concat(z("conducts_lessons"),":")}),(0,a.jsx)(S.Z,{variant:"body2",children:h.join(", ")})]}),(0,a.jsx)("div",{className:q.headerIntroFieldWrap,children:f?(0,a.jsx)(S.Z,{className:q.headerFieldTitle,variant:W?"h6":"h5",color:"error",children:z("intro_disabled_by_admin")}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:q.headerFieldTitle,variant:W?"h6":"h5",children:"".concat(z("has_intro"),":")}),(0,a.jsx)(S.Z,{variant:"body2",children:i.noIntroSelfSet?(0,a.jsx)(C.Two,{color:"error"}):(0,a.jsx)(C.qwv,{})})]})}),(0,a.jsx)("ul",{className:q.listSubjects,children:null==t?void 0:t.map(((e,t)=>e&&(0,a.jsx)("li",{className:q.subject,children:(0,a.jsx)(S.Z,{variant:"body2",children:e})},e+t)))})]})]}),(0,a.jsxs)("form",{className:q.infoForm,children:[(0,a.jsxs)("div",{className:q.tutorInfoFormWrap,children:[!n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:q.tutorNameFieldWrap,children:[(0,a.jsx)(w.Z,{className:q.nameField,name:"name",label:z("name"),variant:"outlined",size:"small",value:i.name,onChange:l}),(0,a.jsx)(w.Z,{className:q.lastNameField,name:"surname",label:z("surname"),variant:"outlined",size:"small",value:i.surname,onChange:l}),(0,a.jsx)(w.Z,{className:q.middleName,name:"middleName",label:z("middle_name"),variant:"outlined",size:"small",value:i.middleName,onChange:l})]}),(0,a.jsx)("div",{className:q.tutorInfoField,children:!f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{control:(0,a.jsx)(N.Z,{color:"primary",id:"noIntroSelfSet",checked:i.noIntroSelfSet,onChange:c,disabled:n}),label:z("no_intro")}),i.noIntroSelfSet&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:q.label,variant:W?"h6":"h5",children:"".concat(z("add_comments"),":")}),(0,a.jsx)(_.Z,{name:"noIntroSelfSetComment",value:i.noIntroSelfSetComment,minRows:n?0:3,className:q.textArea,disabled:n,onChange:l})]})]})})]}),D.map((e=>{let{name:t,label:s}=e;return(0,a.jsxs)("div",{className:q.tutorInfoField,children:[(0,a.jsx)(S.Z,{className:q.label,variant:W?"h6":"h5",children:"".concat(s,":")}),(0,a.jsx)(_.Z,{value:i[t],name:t,minRows:n?0:3,className:q.textArea,disabled:n,onChange:l})]},t)}))]}),n?(0,a.jsx)(j.Z,{size:"small",onClick:d,children:z(W?"edit":"edit_questionnaire")}):(0,a.jsxs)("div",{className:q.InfoFormBtnWrap,children:[(0,a.jsx)(j.Z,{className:q.infoFormSubmitBtn,size:"small",onClick:m,children:z(W?"save":"save_questionnaire")}),(0,a.jsx)(j.Z,{size:"small",variant:"outlined",onClick:u,children:z("cancel")})]})]}),(0,a.jsx)(B,{tutorId:x})]})};var z=(0,o.memo)(W);var D=(0,l.qC)((0,r.$j)((e=>{let{profileTutor:{tutorInfoFormData:t}}=e;return{tutorInfoFormData:t}}),(e=>(0,l.DE)(f.Nw,e))),x.Z)((e=>{let{subjects:t,tutorInfoFormData:n,setTutorInfoData:i,setNoIntroField:l,setTutorInfoField:c,openModal:d,closeModal:x}=e;var f;const{t:g}=(0,s.$G)("pages.profile"),[b,v]=(0,o.useState)((0,r.v9)(h.dy)),[j,w]=(0,o.useState)(!0),[y,N]=(0,o.useState)(!1),_=(0,o.useRef)(null),F=null==b||null===(f=b.subject)||void 0===f?void 0:f.map((e=>t[e]));(0,o.useEffect)((()=>{}),[]);return(0,a.jsx)(z,{tutorSubjects:F,isInfoFormDisabled:j,tutorInfoFormData:n,isFileSizeWarning:y,onAvatarClick:e=>{const t=e.target.files[0];(null==t?void 0:t.size)>1e6?N(!0):t&&(N(!1),c({name:"avatarLink",value:URL.createObjectURL(t)}))},onTextFieldChange:e=>{const{name:t,value:n}=e.target;if("name"===t||"surname"===t||"middleName"===t){n&&!/^[а-яёa-z -]+$/i.test(n)||c({name:t,value:n.trim()})}else c({name:t,value:n})},onCheckboxFieldChange:e=>{const{checked:t}=e.target;l(t)},onTutorInfoFormEdit:()=>w(!1),onTutorInfoFormSubmit:()=>{const e=_.current.files[0],t=new FormData;e&&t.append("file",e);const i={name:n.name,surname:n.surname,middlename:n.middleName,about:n.about,education:n.education,professional_background:n.professionalBackground,certificates:n.certificates,pupils_achievements:n.pupilsAchievements,teaching_principles:n.teachingPrinciples,interests:n.interests,no_intro_self_set:n.noIntroSelfSet,no_intro_self_set_comment:n.noIntroSelfSetComment},s={no_intro_self_set:n.noIntroSelfSet,no_intro_self_set_comment:n.noIntroSelfSetComment};Promise.all([e?u(t):null,u(i),m(s)]).then((()=>{d((0,a.jsx)(p.Z,{text:g("change_success"),type:"success",closeModal:x})),v({...b,...i,...s}),w(!0)})).catch((()=>{d((0,a.jsx)(p.Z,{text:g("change_error"),type:"error",closeModal:x}))}))},onTutorInfoFormCancel:()=>{(()=>{const e={name:b.name,surname:b.surname,middleName:b.middlename,about:b.about,education:b.education,professionalBackground:b.professional_background,certificates:b.certificates,pupilsAchievements:b.pupils_achievements,teachingPrinciples:b.teaching_principles,interests:b.interests,noIntroSelfSet:b.no_intro_self_set,noIntroSelfSetComment:b.no_intro_self_set_comment,avatarLink:b.avatar_link};i(e)})(),w(!0)},employmentTerm:b.employment_term,pupilsAge:b.pupils_age,tutorId:b.id,isIntroDisabledByAdmin:b.no_intro||b.disabled_intro,avatarRef:_})})),A=!0,M=(0,i.Z)((e=>{let{data:t}=e;return(0,a.jsx)(D,{...t})}))},6588:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(85893),i=n(67294),s=n(92022),o=n(53626);var r=(e,t,n)=>{let a=0;if(!t||0===t.length)return n;for(let e=0;e<t.length;e++)a+=t.charCodeAt(e);return e[a%e.length]};var l,c=e=>{const t=e.split(" ");let n="";for(let e=0;e<2;e++){const a=t[e];if(!a)break;n+=a[0]}return n};!function(e){e[e.large=24]="large",e[e.medium=22]="medium",e[e.small=22]="small",e[e.extraSmall=12]="extraSmall"}(l||(l={}));const d=e=>{let{size:t="large",className:n,onClick:i,isGray:d,children:m,userId:u=null,alt:p,...h}=e;const x=(e=>(0,o.Z)((t=>{const n=[t.palette.secondary.main,t.palette.success.main,t.palette.warning.dark,t.palette.info.main],a=t.components.MuiAvatar.styleOverrides,i={"&::after":{cursor:"pointer",content:'""',position:"absolute",border:"1px solid",borderRadius:"100%",borderColor:t.palette.primary.main,width:t.components.MuiAvatar.styleOverrides[e.size].width,height:t.components.MuiAvatar.styleOverrides[e.size].height,boxSizing:"border-box"}};return{root:{width:t.components.MuiAvatar.styleOverrides[e.size].width,height:t.components.MuiAvatar.styleOverrides[e.size].height,"&:hover":e.onClick?i:"",fontWeight:t.typography.fontWeightBold,fontFamily:"Nunito, Arial, sans-serif",fontSize:l[e.size],backgroundColor:e.isGray?t.components.MuiAvatar.styleOverrides.root:r(n,e.userId,a)}}})))({size:t,onClick:i,isGray:d,userId:u})();return(0,a.jsx)(s.Z,{className:"".concat(x.root," ").concat(n),onClick:i,alt:p,...h,children:m&&0!==m.length?(0,a.jsx)("div",{children:c(m)}):void 0})};var m=(0,i.memo)(d)},29523:function(e,t,n){"use strict";n.d(t,{Z:function(){return a.Z}});var a=n(6588)},50335:function(){},32595:function(){},62015:function(){}},function(e){e.O(0,[3626,7859,1908,4890,4701,3997,1664,8217,1174,4835,2445,4045,158,6647,6656,9039,6743,6192,392,3875,136,698,8986,5006,9,6716,7763,2888,9774,179],(function(){return t=99813,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=profile-7ed91124c4504d27.js.map