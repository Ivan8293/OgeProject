if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cy,M,bR){function dk(dW){if(typeof dW!=="function"){return}if(!bZ){dW();return}var e=false;function dV(){if(!e){e=true;dW();if(typeof M.removeEventListener==="function"){M.removeEventListener("DOMContentLoaded",dV)}}}if(M.readyState==="interactive"||M.readyState==="complete"){dV()}else{an(M,"DOMContentLoaded",dV)}}var F=function(){var e=cy.maCookiePrefix;return typeof e==="string"?e:"roistat"};var ab=F();var bM=function(){return cy[ab+"Host"]};var bC=false,ac="359",B=13,c8=42,x=bM(),aQ="0.2",ap="1.0",dg="roistat_visit_cookie_expire",co="roistat_visit",aW="roistat_cookies_to_resave",cg="roistat_guid",a1="roistat_next_guid",a7="roistat_first_visit",aw="roistat_is_need_listen_requests",bo="roistat_is_save_data_in_cookie",dM="roistat_phone",V="roistat_raw_phone",E="roistat_externalCountersEnabled",aP="roistat_referrer",dj="roistat_marker",bq="roistat_marker_old",bJ="roistat_ab",al="roistat_previous_ab",W="roistat_ab_submit",bT=35*24*60*60,cV="rs",N="roistat",ai="leadhunter_expire",T=5*60*60,bS="roistat_leadHunterEnabled",r="roistat_leadHunterTargetPagesMap",cN="roistat_leadHunterCallbackSettings",a5="roistat_leadHunterScriptId",ad="roistat_isleadHunterScriptIdActive",bm="roistat_multiwidgetEnabled",cf="roistat_multiwidgetVKEnabled",c5="roistat_multiwidgetVKLink",U="roistat_multiwidgetFBEnabled",dr="roistat_multiwidgetFBLink",cQ="roistat_multiwidgetTelegramEnabled",bA="roistat_multiwidgetTelegramLink",c1="roistat_multiwidgetWhatsAppEnabled",bQ="roistat_multiwidgetWhatsAppLink",dU="roistat_multiwidgetViberEnabled",cT="roistat_multiwidgetViberLink",au="roistat_multiwidgetSettings",c2="roistat_onlineChatEnabled",C="roistat_onlineChatSettings",d=7*24*60*60,da={expires:d,path:"/"},aq="roistat-promo",az="roistat-phone",L="roistat-phone-country",ar="roistat-phone-region",O="roistat-phone-number",dE="roistat-phone-tel",b1="country",aY="region",bt="number",cj="tel",aa="get-phone",n="roistat_call_tracking",ae="roistat-js-script",bH="roistat_phone_replacement",bu="roistat_phone_script_data",c7="roistat-visit-id",a8="roistat_metrika_counter_id",j="roistat_marker_from_referrer",bG="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bW="roistat_emailtracking_emails",l="roistat_geo_data",a0="roistat_promo_code",dG="roistat_proxy_forms",dc="roistat_isMultiDomain",cX=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],cp="roistat_debug",bb="roistat_settings_saved",cE="nocookie",a9=["yandex.ru"],aN="beta_test",cR="roistat_settings_version",cd="roistat-leadhunter-form-template",bF="roistat-leadhunter-pulsator-template",cc="roistat-leadhunter-pulsator-settings",bB="roistat-online-chat-pulsator-template",D="roistat-online-chat-iframe-template",dl="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",ag="roistat_last_settings_update_time",cL="roistat_authorized_client",aJ="roistat_params",dt=50,aX="mobile",p="tablet",b9="desktop",b5=500,dA=1024;
var cs="ru",aE="en",cI={ru:["Русский","Russian"],en:["Английский","English"]},am,s;var ce={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var cq={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var c9={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cy.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cy.roistatAlreadyStarted=true;if(cy.roistatCookieDomain){da.domain=cy.roistatCookieDomain}var cC=function(){return new Date().getTime()};var z=function(dV){var dW=cC()-by;var e="["+(dW/1000)+"s] "+dV;br=br+"; "+e;if(typeof console!=="undefined"&&console.log&&bC){console.log(e)}};var u=function(e){var dW=e.split(".");var dV=dW.length;if(dV<2){return e}return dW[dV-2]+"."+dW[dV-1]};var A=function(){var dV=cy.screen||null;var e=cy.navigator||null;return{screenWidth:dV!==null?(dV.width||null):null,screenHeight:dV!==null?(dV.height||null):null,screenIsExtended:dV!==null?(dV.isExtended||null):null,screenPixelDepth:dV!==null?(dV.pixelDepth||null):null,screenColorDepth:dV!==null?(dV.colorDepth||null):null,deviceMemory:e!==null?(e.deviceMemory||null):null,hardwareConcurrency:e!==null?(e.hardwareConcurrency||null):null,language:e!==null?(e.language||null):null,maxTouchPoints:e!==null?(e.maxTouchPoints||null):null,platform:e!==null?(e.platform||null):null}};var dm="cllctr."+u(x);cy.roistat={version:ac,getSource:function(){return cq.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){cq.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cO(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bD(e)},disableCallTracking:function(){ce.callTrackingEnabled=false},setCallTrackingManualMode:function(){ce.callTrackingManual=true},setJSONPRequestTimeout:function(e){ce.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:"",rawPhone:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){z("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,dV){if(!cq.isAbTestsApplied&&typeof dV==="function"){c9.onAbTestsApplied[e]=dV}},authClientById:function(e){aL(e,bR)},authClientByEmail:function(e){aL(bR,e)},setDeviceParams:function(){if(!cq.isVisitProcessed){z("Visit is not processed, return");return}var e=o();if(e<=0){z("Invalid arguments, return");return}var dW=A();var dV=S()+"/update-visit-by-device-params?visit="+e+"&v="+ac;for(var dY in dW){if(!dW.hasOwnProperty(dY)){continue}var dX=dW[dY];if(dX===null){continue}dV+="&"+dY+"="+encodeURIComponent(dX)}a6(dV)},setRoistatParams:function(d1,d0,dY,dX,dW){var d2=d1!==null&&dR(d1)?d1:{roistat_param1:d1,roistat_param2:d0,roistat_param3:dY,roistat_param4:dX,roistat_param5:dW};if(!cq.isVisitProcessed){z("Visit is not processed, return");return}var dZ=o();if(dZ<=0){z("Invalid arguments, return");return}var d3=be(d2);if(!aZ(d3)){z("Has no valid roistat params for visit update, return");return}bl(d3);var e=S()+"/update-visit-by-params?visit="+dZ+"&v="+ac;for(var dV in d3){if(!Object.prototype.hasOwnProperty.call(d3,dV)){continue}e+="&"+dV+"="+encodeURIComponent(d3[dV])}a6(e)}};var be=function(dX){var e={};for(var dW=1;dW<=dt;dW++){var dV="roistat_param"+dW;if(!Object.prototype.hasOwnProperty.call(dX,dV)){continue}var dY=dX[dV];if(dY!==bR&&dY!==null&&dY.toString().length>0){e[dV]=dY}}return e};var bl=function(dW){var dY=aJ;var dV=cv.get(dY);var e=JSON.stringify(dW);var dX=dV===e;if(e!=null&&e.length>0){c3(dW)}if(dX){z("Params already updated, return");return}cv.set(dY,e)};var c3=function(dV){for(var e=1;e<=dt;e++){var dW="roistat_param"+e;if(dV.hasOwnProperty(dW)){cy.roistat.page.params[dW]=dV[dW]}}};var aL=function(e,dX){if(!cq.isVisitProcessed){z("Visit is not processed, return");
return}var dY=e!==bR&&e.length>0,d1=dX!==bR&&dX.length>0;if(!dY&&!d1){z("Invalid client params, return");return}var dZ=o();if(dZ<=0){z("Invalid arguments, return");return}var d0=cL,d2=cv.get(d0),dW=dY?e:dX;if(d2===dW){z('Client "'+dW+'" is already authorized, return');return}z("Auth client: "+dW);cv.set(d0,dW);var dV=S()+"/update-visit-by-client?visit="+dZ+"&v="+ac;if(dY){dV+="&client_id="+encodeURIComponent(e)}if(d1){dV+="&client_email="+encodeURIComponent(dX)}a6(dV)};var dv=function(dX,dV){var dW=dX.length;for(var e=0;e<dW;e++){if(dV===dX[e]){return true}}return false};var aj=function(){return i(aN)>0};var y=function(){return cy.location.protocol+"//"+cy.location.host+cy.location.pathname};var H=function(){if(dO()){return aX}if(dC()){return p}return b9};var dO=function(){return cy.innerWidth<=b5};var dC=function(){return cy.innerWidth>b5&&cy.innerWidth<=dA};var bL=function(){return dO()||dC()};var bf=function(){return cy[ab+"ProjectId"]};var cS=function(){var e=bf().replace(/\D/g,"");z("getProjectHash: "+e);return e};var bw=function(e){var dV=cS();return dv(e,dV)};var c0=function(e){return JSON.parse(JSON.stringify(e))};var bK=function(){var dV=c0(da),e=parseInt(cv.get(dg));dV.expires=e>0?e:d;return dV};var cO=function(e){if(!cq.isVisitProcessed){c9.onVisitProcessed.push(e)}else{e()}};var c4=function(){cq.isVisitProcessed=true;z("[Roistat] visit id set. Processing callbacks");var dV=c9.onVisitProcessed.length;for(var e=0;e<dV;e++){c9.onVisitProcessed[e]()}if(cy.roistatVisitCallback!==bR){cy.roistatVisitCallback(cy.roistat.getVisit())}};var bD=function(e){c9.onCallTrackingPhoneReceived.push(e)};var ds=function(){var dV=c9.onCallTrackingPhoneReceived.length;for(var e=0;e<dV;e++){c9.onCallTrackingPhoneReceived[e]()}};var aF=function aF(e){c9.onSPAPageChanged.push(e)};var cm=function cm(){z("[Roistat] SPA page changed. Processing callbacks");var dV=c9.onSPAPageChanged.length;for(var e=0;e<dV;e++){c9.onSPAPageChanged[e]()}};var at=function(dY,dX){var dW=dY.className.split(" "),dV=false,e;for(var e=0;e<dW.length;e++){if(dW[e]===dX){dV=true;break}}if(!dV){dW.push(dX);dY.className=dW.join(" ")}};var cn=function(dX,dW){var dV=dX.className.split(" "),e;for(var e=0;e<dV.length;e++){if(dV[e]===dW){dV.splice(e,1);dX.className=dV.join(" ");break}}};var aM=function(dW){try{return decodeURIComponent(dW)}catch(dX){var dV;dV=w(dW);if(dV===null){return dW}return dV}};var b8={visitor_uid:function(){z("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dR(cy.AMOPIXEL_IDENTIFIER)||!Z(cy.AMOPIXEL_IDENTIFIER.getVisitorUid)){z("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!ba(e)){z("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return af("yclid",false)},roistat_gclid:function(){return af("gclid",false)},roistat_rb_clickid:function(){return af("rb_clickid",false)}};var aI=function(){for(var dV in b8){var e=b8[dV]();if(e===null){continue}dF(dV,e,da)}};var bp=function(){return["_ym_uid","_ga","_fbp","_fbc"].concat(P(b8))};var w=function(dZ){var dY={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dW="";var dX=0;while(dX<dZ.length){var dV=dZ.substring(dX,dX+3);if(Object.prototype.hasOwnProperty.call(dY,dV)){dW+=dY[dV];dX+=3}else{dW+=dZ.substring(dX,dX+1);dX++}}try{return decodeURIComponent(dW)}catch(d0){return null}};cy.roistatVersion=ac;var bI,ao=bw(["860340978620700251","93600421474928811290145"]),K=bw(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"]),bZ=bw(["756305455392462179","5920396192098309402868"]),k,cG=true,cM=decodeURIComponent(M.location.href),br="",a4="",by=new Date().getTime(),di=false,cW=cy.roistatPhonePrefix?cy.roistatPhonePrefix:"",dN=cy.roistatPhonePrefixBind?cy.roistatPhonePrefixBind:"",X=cy.roistatCalltrackingScripts&&cy.roistatCalltrackingScripts.join?cy.roistatCalltrackingScripts.join(","):"";
var cu=function(e){if(!K){return e}var dV=e.replace(/^roistat[_-]/,"");return ab+"_"+dV};var i,dF,dS,df;i=cy.roistatGetCookie=function(e){var dV=cu(e);var dW=M.cookie.match(new RegExp("(?:^|; )"+dV.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return dW?aM(dW[1]):bR};dS=function(e,d1,d2){var dZ=cu(e);d2=d2||{};var dX=d2.expires;if(typeof dX=="number"&&dX){var d0=new Date();d0.setTime(d0.getTime()+dX*1000);dX=d2.expires=d0}if(dX&&dX.toUTCString){d2.expires=dX.toUTCString()}d1=encodeURIComponent(d1);var dV=dZ+"="+d1;for(var dY in d2){dV+="; "+dY;var dW=d2[dY];if(dW!==true){dV+="="+dW}}M.cookie=dV};dF=cy.roistatSetCookie=function dF(dV,dY,e){dS(dV,dY,e);var dX;dX=i(aW);dX=ba(dX)?dX.split(","):[];for(var dW in dX){if(dX[dW]===dV){return}}dX.push(dV);dS(aW,dX.join(","),{path:"/"})};df=function df(dV,e){var dW=c0(e);dW.expires=new Date(0).toUTCString();dS(dV,"",dW)};var bP=function(dV,dX,dW){var e=dV[dX];dV[dX]=function(){if(e){e.apply(this,arguments)}dW.apply(this,arguments)}};var an=function(dW,dV,dX){if(dW.addEventListener){dW.addEventListener(dV,dX,false);return}var e="on"+dV;if(dW.attachEvent){dW.attachEvent(e,dX);return}if(e in dW){bP(dW,e,dX);return}if(dV in dW){bP(dW,dV,dX);return}z("Handler could not be attached")};var q=function(dX,dW){var dV=dX.length;for(var e=0;e<dV;e++){dW(dX[e])}};var P=function(e){var dV=[];bx(e,function(dW,dX){dV.push(dW)});return dV};var bx=function(e,dW){for(var dV in e){if(Object.prototype.hasOwnProperty.call(e,dV)){dW(dV,e[dV])}}};var bE=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aZ=function(dV){if(typeof dV!=="object"){return false}for(var e in dV){if(dV.hasOwnProperty(e)){return true}}return false};var dx=function(dW){try{var dV=JSON.parse(dW);if(dV&&typeof dV==="object"){return dV}}catch(dX){}return null};if(M.getElementsByClassName==bR){M.getElementsByClassName=function(dV){var e=[];var dZ=new RegExp("\\b"+dV+"\\b");var dY=this.getElementsByTagName("*");for(var dX=0;dX<dY.length;dX++){var dW=dY[dX].className;if(dZ.test(dW)){e.push(dY[dX])}}return e}}var aO=function(){return String.fromCharCode};var c6=function(dW){var e="";for(var dV=0;dV<dW.length;++dV){e+=aO()(c8^dW.charCodeAt(dV))}return e};var aV=function(e){return encodeURIComponent(c6(cB.encode(e)))};var cB={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dW){var e="";var d3,d1,dZ,d2,d0,dY,dX;var dV=0;dW=cB._utf8_encode(dW);while(dV<dW.length){d3=dW.charCodeAt(dV++);d1=dW.charCodeAt(dV++);dZ=dW.charCodeAt(dV++);d2=d3>>2;d0=((d3&3)<<4)|(d1>>4);dY=((d1&15)<<2)|(dZ>>6);dX=dZ&63;if(isNaN(d1)){dY=dX=64}else{if(isNaN(dZ)){dX=64}}e=e+this._keyStr.charAt(d2)+this._keyStr.charAt(d0)+this._keyStr.charAt(dY)+this._keyStr.charAt(dX)}return e},decode:function(dW){var e="";var d3,d1,dZ;var d2,d0,dY,dX;var dV=0;dW=dW.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dV<dW.length){d2=this._keyStr.indexOf(dW.charAt(dV++));d0=this._keyStr.indexOf(dW.charAt(dV++));dY=this._keyStr.indexOf(dW.charAt(dV++));dX=this._keyStr.indexOf(dW.charAt(dV++));d3=(d2<<2)|(d0>>4);d1=((d0&15)<<4)|(dY>>2);dZ=((dY&3)<<6)|dX;e=e+String.fromCharCode(d3);if(dY!=64){e=e+String.fromCharCode(d1)}if(dX!=64){e=e+String.fromCharCode(dZ)}}e=cB._utf8_decode(e);return e},_utf8_encode:function(dV){dV=dV.replace(/\r\n/g,"\n");var e="";for(var dX=0;dX<dV.length;dX++){var dW=dV.charCodeAt(dX);if(dW<128){e+=String.fromCharCode(dW)}else{if((dW>127)&&(dW<2048)){e+=String.fromCharCode((dW>>6)|192);e+=String.fromCharCode((dW&63)|128)}else{e+=String.fromCharCode((dW>>12)|224);e+=String.fromCharCode(((dW>>6)&63)|128);e+=String.fromCharCode((dW&63)|128)}}}return e},_utf8_decode:function(e){var dW="";var dY=0;var dZ=0;var dX=0;var dV=0;while(dY<e.length){dZ=e.charCodeAt(dY);if(dZ<128){dW+=String.fromCharCode(dZ);dY++}else{if((dZ>191)&&(dZ<224)){dX=e.charCodeAt(dY+1);dW+=String.fromCharCode(((dZ&31)<<6)|(dX&63));dY+=2}else{dX=e.charCodeAt(dY+1);dV=e.charCodeAt(dY+2);dW+=String.fromCharCode(((dZ&15)<<12)|((dX&63)<<6)|(dV&63));dY+=3}}}return dW}};var b0=b0||function(d6,dW){var dY={},dZ=dY.lib={},dX=function(){},e=dZ.Base={extend:function(d7){dX.prototype=this;var d8=new dX;d7&&d8.mixIn(d7);d8.hasOwnProperty("init")||(d8.init=function(){d8.$super.init.apply(this,arguments)});d8.init.prototype=d8;d8.$super=this;return d8},create:function(){var d7=this.extend();d7.init.apply(d7,arguments);return d7},init:function(){},mixIn:function(d7){for(var d8 in d7){d7.hasOwnProperty(d8)&&(this[d8]=d7[d8])}d7.hasOwnProperty("toString")&&(this.toString=d7.toString)},clone:function(){return this.init.prototype.extend(this)}},dV=dZ.WordArray=e.extend({init:function(d7,d8){d7=this.words=d7||[];this.sigBytes=d8!=dW?d8:4*d7.length},toString:function(d7){return(d7||d5).stringify(this)},concat:function(d7){var ea=this.words,d8=d7.words,d9=this.sigBytes;d7=d7.sigBytes;this.clamp();if(d9%4){for(var eb=0;eb<d7;eb++){ea[d9+eb>>>2]|=(d8[eb>>>2]>>>24-8*(eb%4)&255)<<24-8*((d9+eb)%4)}}else{if(65535<d8.length){for(eb=0;eb<d7;eb+=4){ea[d9+eb>>>2]=d8[eb>>>2]
}}else{ea.push.apply(ea,d8)}}this.sigBytes+=d7;return this},clamp:function(){var d7=this.words,d8=this.sigBytes;d7[d8>>>2]&=4294967295<<32-8*(d8%4);d7.length=d6.ceil(d8/4)},clone:function(){var d7=e.clone.call(this);d7.words=this.words.slice(0);return d7},random:function(d7){for(var d9=[],d8=0;d8<d7;d8+=4){d9.push(4294967296*d6.random()|0)}return new dV.init(d9,d7)}}),d3=dY.enc={},d5=d3.Hex={stringify:function(d7){var d8=d7.words;d7=d7.sigBytes;for(var eb=[],ea=0;ea<d7;ea++){var d9=d8[ea>>>2]>>>24-8*(ea%4)&255;eb.push((d9>>>4).toString(16));eb.push((d9&15).toString(16))}return eb.join("")},parse:function(d7){for(var d8=d7.length,ea=[],d9=0;d9<d8;d9+=2){ea[d9>>>3]|=parseInt(d7.substr(d9,2),16)<<24-4*(d9%8)}return new dV.init(ea,d8/2)}},d2=d3.Latin1={stringify:function(d7){var d8=d7.words;d7=d7.sigBytes;for(var ea=[],d9=0;d9<d7;d9++){ea.push(String.fromCharCode(d8[d9>>>2]>>>24-8*(d9%4)&255))}return ea.join("")},parse:function(d7){for(var d8=d7.length,ea=[],d9=0;d9<d8;d9++){ea[d9>>>2]|=(d7.charCodeAt(d9)&255)<<24-8*(d9%4)}return new dV.init(ea,d8)}},d4=d3.Utf8={stringify:function(d7){try{return decodeURIComponent(escape(d2.stringify(d7)))}catch(d8){throw Error("Malformed UTF-8 data")}},parse:function(d7){return d2.parse(unescape(encodeURIComponent(d7)))}},d1=dZ.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new dV.init;this._nDataBytes=0},_append:function(d7){"string"==typeof d7&&(d7=d4.parse(d7));this._data.concat(d7);this._nDataBytes+=d7.sigBytes},_process:function(d8){var ea=this._data,ed=ea.words,ec=ea.sigBytes,eb=this.blockSize,d7=ec/(4*eb),d7=d8?d6.ceil(d7):d6.max((d7|0)-this._minBufferSize,0);d8=d7*eb;ec=d6.min(4*d8,ec);if(d8){for(var d9=0;d9<d8;d9+=eb){this._doProcessBlock(ed,d9)}d9=ed.splice(0,d8);ea.sigBytes-=ec}return new dV.init(d9,ec)},clone:function(){var d7=e.clone.call(this);d7._data=this._data.clone();return d7},_minBufferSize:0});dZ.Hasher=d1.extend({cfg:e.extend(),init:function(d7){this.cfg=this.cfg.extend(d7);this.reset()},reset:function(){d1.reset.call(this);this._doReset()},update:function(d7){this._append(d7);this._process();return this},finalize:function(d7){d7&&this._append(d7);return this._doFinalize()},blockSize:16,_createHelper:function(d7){return function(d8,d9){return(new d7.init(d9)).finalize(d8)}},_createHmacHelper:function(d7){return function(d8,d9){return(new d0.HMAC.init(d7,d9)).finalize(d8)}}});var d0=dY.algo={};return dY}(Math);(function(d4){function dW(d8,d9,d6,eb,d7,ea,d5){d8=d8+(d9&d6|~d9&eb)+d7+d5;return(d8<<ea|d8>>>32-ea)+d9}function dY(d8,d9,d6,eb,d7,ea,d5){d8=d8+(d9&eb|d6&~eb)+d7+d5;return(d8<<ea|d8>>>32-ea)+d9}function dZ(d8,d9,d6,eb,d7,ea,d5){d8=d8+(d9^d6^eb)+d7+d5;return(d8<<ea|d8>>>32-ea)+d9}function dX(d8,d9,d6,eb,d7,ea,d5){d8=d8+(d6^(d9|~eb))+d7+d5;return(d8<<ea|d8>>>32-ea)+d9}for(var e=b0,dV=e.lib,d1=dV.WordArray,d3=dV.Hasher,dV=e.algo,d0=[],d2=0;64>d2;d2++){d0[d2]=4294967296*d4.abs(d4.sin(d2+1))|0}dV=dV.MD5=d3.extend({_doReset:function(){this._hash=new d1.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(em,ej){for(var er=0;16>er;er++){var el=ej+er,d8=em[el];em[el]=(d8<<8|d8>>>24)&16711935|(d8<<24|d8>>>8)&4278255360}var er=this._hash.words,el=em[ej+0],d8=em[ej+1],ek=em[ej+2],eh=em[ej+3],ef=em[ej+4],ed=em[ej+5],eb=em[ej+6],ea=em[ej+7],d9=em[ej+8],d7=em[ej+9],d6=em[ej+10],d5=em[ej+11],ei=em[ej+12],eg=em[ej+13],ee=em[ej+14],ec=em[ej+15],eq=er[0],ep=er[1],eo=er[2],en=er[3],eq=dW(eq,ep,eo,en,el,7,d0[0]),en=dW(en,eq,ep,eo,d8,12,d0[1]),eo=dW(eo,en,eq,ep,ek,17,d0[2]),ep=dW(ep,eo,en,eq,eh,22,d0[3]),eq=dW(eq,ep,eo,en,ef,7,d0[4]),en=dW(en,eq,ep,eo,ed,12,d0[5]),eo=dW(eo,en,eq,ep,eb,17,d0[6]),ep=dW(ep,eo,en,eq,ea,22,d0[7]),eq=dW(eq,ep,eo,en,d9,7,d0[8]),en=dW(en,eq,ep,eo,d7,12,d0[9]),eo=dW(eo,en,eq,ep,d6,17,d0[10]),ep=dW(ep,eo,en,eq,d5,22,d0[11]),eq=dW(eq,ep,eo,en,ei,7,d0[12]),en=dW(en,eq,ep,eo,eg,12,d0[13]),eo=dW(eo,en,eq,ep,ee,17,d0[14]),ep=dW(ep,eo,en,eq,ec,22,d0[15]),eq=dY(eq,ep,eo,en,d8,5,d0[16]),en=dY(en,eq,ep,eo,eb,9,d0[17]),eo=dY(eo,en,eq,ep,d5,14,d0[18]),ep=dY(ep,eo,en,eq,el,20,d0[19]),eq=dY(eq,ep,eo,en,ed,5,d0[20]),en=dY(en,eq,ep,eo,d6,9,d0[21]),eo=dY(eo,en,eq,ep,ec,14,d0[22]),ep=dY(ep,eo,en,eq,ef,20,d0[23]),eq=dY(eq,ep,eo,en,d7,5,d0[24]),en=dY(en,eq,ep,eo,ee,9,d0[25]),eo=dY(eo,en,eq,ep,eh,14,d0[26]),ep=dY(ep,eo,en,eq,d9,20,d0[27]),eq=dY(eq,ep,eo,en,eg,5,d0[28]),en=dY(en,eq,ep,eo,ek,9,d0[29]),eo=dY(eo,en,eq,ep,ea,14,d0[30]),ep=dY(ep,eo,en,eq,ei,20,d0[31]),eq=dZ(eq,ep,eo,en,ed,4,d0[32]),en=dZ(en,eq,ep,eo,d9,11,d0[33]),eo=dZ(eo,en,eq,ep,d5,16,d0[34]),ep=dZ(ep,eo,en,eq,ee,23,d0[35]),eq=dZ(eq,ep,eo,en,d8,4,d0[36]),en=dZ(en,eq,ep,eo,ef,11,d0[37]),eo=dZ(eo,en,eq,ep,ea,16,d0[38]),ep=dZ(ep,eo,en,eq,d6,23,d0[39]),eq=dZ(eq,ep,eo,en,eg,4,d0[40]),en=dZ(en,eq,ep,eo,el,11,d0[41]),eo=dZ(eo,en,eq,ep,eh,16,d0[42]),ep=dZ(ep,eo,en,eq,eb,23,d0[43]),eq=dZ(eq,ep,eo,en,d7,4,d0[44]),en=dZ(en,eq,ep,eo,ei,11,d0[45]),eo=dZ(eo,en,eq,ep,ec,16,d0[46]),ep=dZ(ep,eo,en,eq,ek,23,d0[47]),eq=dX(eq,ep,eo,en,el,6,d0[48]),en=dX(en,eq,ep,eo,ea,10,d0[49]),eo=dX(eo,en,eq,ep,ee,15,d0[50]),ep=dX(ep,eo,en,eq,ed,21,d0[51]),eq=dX(eq,ep,eo,en,ei,6,d0[52]),en=dX(en,eq,ep,eo,eh,10,d0[53]),eo=dX(eo,en,eq,ep,d6,15,d0[54]),ep=dX(ep,eo,en,eq,d8,21,d0[55]),eq=dX(eq,ep,eo,en,d9,6,d0[56]),en=dX(en,eq,ep,eo,ec,10,d0[57]),eo=dX(eo,en,eq,ep,eb,15,d0[58]),ep=dX(ep,eo,en,eq,eg,21,d0[59]),eq=dX(eq,ep,eo,en,ef,6,d0[60]),en=dX(en,eq,ep,eo,d5,10,d0[61]),eo=dX(eo,en,eq,ep,ek,15,d0[62]),ep=dX(ep,eo,en,eq,d7,21,d0[63]);
er[0]=er[0]+eq|0;er[1]=er[1]+ep|0;er[2]=er[2]+eo|0;er[3]=er[3]+en|0},_doFinalize:function(){var d7=this._data,d8=d7.words,d5=8*this._nDataBytes,d9=8*d7.sigBytes;d8[d9>>>5]|=128<<24-d9%32;var d6=d4.floor(d5/4294967296);d8[(d9+64>>>9<<4)+15]=(d6<<8|d6>>>24)&16711935|(d6<<24|d6>>>8)&4278255360;d8[(d9+64>>>9<<4)+14]=(d5<<8|d5>>>24)&16711935|(d5<<24|d5>>>8)&4278255360;d7.sigBytes=4*(d8.length+1);this._process();d7=this._hash;d8=d7.words;for(d5=0;4>d5;d5++){d9=d8[d5],d8[d5]=(d9<<8|d9>>>24)&16711935|(d9<<24|d9>>>8)&4278255360}return d7},clone:function(){var d5=d3.clone.call(this);d5._hash=this._hash.clone();return d5}});e.MD5=d3._createHelper(dV);e.HmacMD5=d3._createHmacHelper(dV)})(Math);var bN=function(){return M[aO()(99,111,111,107,105,101)]};var aA=function(){dJ();var e={c:dq()};return aV(JSON.stringify(e))};var cP=function(){var e=o();return(e===bR||e===null)?cE:e};var dq=function(){var e=[];for(var dV in cq.cookies){if(!Object.prototype.hasOwnProperty.call(cq.cookies,dV)){continue}e.push(dV+"="+cq.cookies[dV])}return e.join("; ")};var dJ=function(){var e=m();for(var dV in e){if(!Object.prototype.hasOwnProperty.call(e,dV)){continue}cq.cookies[dV]=e[dV]}};var ay=function(e){dF(dj,e,bK());cq.source.marker=e};var av=function(){return i(dj)};var g=function(){bx(cy.roistat.page.params,function(dV,e){cq.pageParams[dV]=e})};var m=function(){var dX=bN();var dY=dX.split("; ");var e={};for(var dW=0;dW<dY.length;dW++){var d1=dY[dW];if(d1===""){continue}var dV=d1.split("=");if(dV.length<2){continue}var d0=dV[0].trim();var dZ=dV[1].trim();e[d0]=dZ}return e};var h=function(){return aO()(104,97,115,104)};var aU=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var cl={isAvailable:function(){var dV=false;try{if(!cy.sessionStorage||!cy.sessionStorage.setItem||!cy.sessionStorage.getItem||!cy.sessionStorage.removeItem){return dV}cy.sessionStorage.setItem("roistat_testKey","testValue");dV=cy.sessionStorage.getItem("roistat_testKey")==="testValue";cy.sessionStorage.removeItem("roistat_testKey")}catch(dW){return false}return dV},remove:function(e){if(this.isAvailable()){cy.sessionStorage.removeItem(cu(e))}},setObject:function(e,dV){if(this.isAvailable()){cy.sessionStorage.setItem(cu(e),JSON.stringify(dV))}},getObject:function(dV){var e=null;if(this.isAvailable()){e=cy.sessionStorage.getItem(cu(dV));e=JSON.parse(e)}return e},set:function(e,dV){if(this.isAvailable()){cy.sessionStorage.setItem(cu(e),dV)}},get:function(dV){var e=null;if(this.isAvailable()){e=cy.sessionStorage.getItem(cu(dV))}return e}};var cv={fallbackData:{},isAvailable:function(){var dV=false;try{if(!cy.localStorage||!cy.localStorage.setItem||!cy.localStorage.getItem||!cy.localStorage.removeItem){return dV}cy.localStorage.setItem("roistat_testKey","testValue");dV=cy.localStorage.getItem("roistat_testKey")==="testValue";cy.localStorage.removeItem("roistat_testKey")}catch(dW){return false}return dV},remove:function(dV){if(this.isAvailable()){cy.localStorage.removeItem(cu(dV))}else{var e=new Date(1970,1,1);dF(dV,"",{expires:e.toUTCString()})}delete this.fallbackData[cu(dV)]},setObject:function(e,dV){if(this.isAvailable()){localStorage.setItem(cu(e),JSON.stringify(dV))}this.fallbackData[cu(e)]=dV},getObject:function(dW){var e=null;if(this.isAvailable()){e=localStorage.getItem(cu(dW));e=dx(e)}if(e===null){var dV=this.fallbackData[cu(dW)];if(typeof dV!=="undefined"){e=dV}}return e},set:function(e,dV){if(this.isAvailable()){localStorage.setItem(cu(e),dV)}else{if(this.isSaveInCookieEnabled()){dF(e,dV,da)}}this.fallbackData[cu(e)]=dV},save:function(dV,dW,e){if(this.isAvailable()){localStorage.setItem(cu(dV),dW)}dF(dV,dW,e);this.fallbackData[cu(dV)]=dW},get:function(dV){var e=null;if(this.isAvailable()){e=localStorage.getItem(cu(dV))}if(e===null){e=i(dV)}if(typeof e==="undefined"){e=this.fallbackData[cu(dV)]}return e},isSaveInCookieEnabled:function(){return this.get(bo)>0},isExternalCountersEnabled:function(){return this.get(E)>0}};var ci=function(){return !ch(M.referrer)?M.referrer:null};var Z=function(e){return typeof e==="function"};var dR=function(e){return typeof e==="object"};var ba=function(e){return typeof e==="string"};var af=function(dX,dW){dW=typeof dW!=="undefined"?dW:false;var dY=function(d1){var d0=null;var d2=new RegExp("[#&?]("+dX+"=[^#&?]+)");if(d2.test(d1)){d0=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var dZ=aM(d0);return d0&&dZ?dZ:d0};var e=dY(cM);if(dW){var dV=M.referrer;if(e===null&&dV){e=dY(dV)}}return e};var dp=function(dV,dW){var e=false;if(dV&&dW){e=dV.split(dW).join("")!==dV}return e};if(af(cp)==="1"||m()[cp]==="1"){bC=true}var cZ=function(){return true};var aS=function(){return cZ()?cy.roistatMultiWidgetOnly:cy.roistatOnlineChatOnly};var dI=function(){var dV=bf()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bf()==="4";var e=(cy.location.host==="cloud.roistat.com"||cy.location.host==="cloud-eu.roistat.com")&&cy.location.pathname!=="/user/login"&&cy.location.pathname!=="/user/register";
var dX=bf()==="349ac99f64416756d4a18e91c71dc95f";var dW=cy.location.host==="datyson.ru"&&cy.location.pathname==="/cloud.html";if((dV&&!e)||(dX&&!dW)){z("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var bk=function(){if("https:"===M.location.protocol){return"https:"}else{return"http:"}};var Y=function(dV){var e=M.createElement("img");e.src=dV;z("sendRequestByUrl: "+dV)};var a6=function(dV,dX){z("sendApiRequestJSONP: init with url "+dV);var e=M.createElement("script");e.onload=e.onreadystatechange=function(){var dY=this.readyState?this.readyState:"unknown";z("sendApiRequestJSONP: script state changed to "+dY)};e.src=dV;if(dX){e.setAttribute("data-roistat-script-id",dX)}e.type="text/javascript";e.async=true;var dW=M.getElementsByTagName("script")[0];dW.parentNode.insertBefore(e,dW);z("sendApiRequestJSONP: script appended")};var cb=function(){if(cq.isCssLoaded){return}(function(){var dV=M.createElement("link"),e=M.getElementsByTagName("head");dV.setAttribute("rel","stylesheet");dV.setAttribute("href",bk()+"//"+x+"/dist/module.css?"+ac);if(e.length>0){cq.isCssLoaded=true;e[0].appendChild(dV)}})()};var cA=function(){return cF()||dP()};var cF=function(){return bs()!==null};var dP=function(){return cx()!==null};var dh=function(){var e=dd();if(e!==null){dF(co,e,bK())}};var dd=function(){return bs()||cx()||null};var bs=function(){return af("roistat_visit")};var cx=function(){return cq.visitFromUser};var a=function(dV,e){if(!e&&(cq.isSettingsUpdating||!M.hasFocus())){z("Already updating settings or document not in focus, return");return}var dW=S()+"/get-settings?v="+ac+"&visit="+dV;z("Request new settings");cq.isSettingsUpdating=true;a6(dW)};var a2=function(){return cv.get(bb)>0};var dz=function(){cv.set(bb,1)};var aH=function(){cv.remove(cd);cv.remove(bF);cv.remove(cc);cv.remove(bB);cv.remove(D);cv.remove(c2);cv.remove(dl);cv.remove(f)};var cr=function(){var dY=function(){return cv.get(cR)};var dX=function(){cv.set(cR,B)};var dV=function(){return typeof dY()==="string"};var e=function(){var dZ=Number(dY())>B;z("Settings Version: settings version change status - "+dZ);return dZ};var dW=function(){var dZ=1000*60*60*24;var d2=du();var d1=cC()-d2;var d0=d1>dZ;z("Settings Version:: expiration day check: lastUpdateTime="+d2+", _lastUpdateTimeDiff="+d1+", _oneDayDiffInMs="+dZ+", result="+(d0?1:0));return d0};if(!dV()){z("Settings Version: set settings version up to 1");dX()}if(dW()||e()){z("Settings Version: clear settings");aH()}};var dK=function(){z("Call: Init");z("Counter version: "+ac);if(af("roistat_ab_demo")==="1"){z("Roistat initialisation rejected: ab test preview mode");return}bv();cY();if((!ax()||dQ())&&!aS()){di=true;bU();I("Created new visit_id: "+o()+" and referrer: "+k)}else{cr();dh();var dV=o();I("Init visit with new visit_id, visit_id: "+dV+" and referrer: "+k);b2();bi();de();roistat.visit=dV;cq.source.marker=av();cy.roistat.geo=cv.getObject(l);var dW=cv.isAvailable()&&a2();if(!dW){a(dV)}else{c4()}}cO(dy);cO(dT);var e=bf()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bf()==="4";if(e){cO(roistat.setDeviceParams)}};var dy=function(){z("InitExternalCounter");if(!cv.isExternalCountersEnabled()){z("ExternalCounters is not available, return");return}var dW=bf();var dV=J();var dZ=dV?dV:o();var dY=dW+":"+dZ;var e=dW+":"+b0.MD5(bj(M.domain)).toString();var dX=function(d2,d0){var d1=(M.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+d0+"&event_type=view&user_id="+d2;var d3=new XMLHttpRequest;d3.open("GET",d1,true);d3.withCredentials=true;d3.onload=function(){if(d3.readyState===4){if(d3.status!==204){console.error(d3.statusText)}}};d3.onerror=function(){console.error(d3.statusText)};d3.send(null)};dX(dY,e);z("InitExternalCounter: script appended")};var Q=function(dW){if(!dW.isEnabled){return true}var e=new Date();var d3=new Date().toISOString();var d0=e.getUTCDay()===0?7:e.getDay();var d1=d0===6||d0===7;var d2=false;for(var dY=0;dY<dW.days.length;dY++){if(d0===dW.days[dY]){d2=true}}if(!d2){return false}if(d1&&dW.weekendsTime!==null){var d4=new Date(dW.weekendsTime.from).toISOString();var dX=new Date(dW.weekendsTime.to).toISOString();return d3>=d4&&d3<=dX}var dZ=new Date(dW.weekdaysTime.from).toISOString();var dV=new Date(dW.weekdaysTime.to).toISOString();return d3>=dZ&&d3<=dV};var bv=function(){z("Call: initMarker");bI=cD();z("Call: inited marker: "+bI)};var cY=function(){z("Call: initReferrer");k=ci();z("Call: end initReferrer: "+k)};var dT=function(){z("Call: parsing roistat params from url");var dX={};for(var dW=1;dW<=dt;dW++){var dV="roistat_param"+dW;dX[dV]=af(dV,false)}var e=be(dX);if(aZ(e)&&Object.keys(e).length>0){bl(e)}z("Call: end parsing roistat params from url")};var ch=function(dW){if(!dW){return true}var e=bj(dW);var dV=bj(M.domain);if(e===dV){return true}var dX=ca();if(dX===null){return false}if(dp(e,dX)&&dp(dV,dX)){return true}return false};var ca=function(){if(typeof da.domain==="string"&&da.domain!==""){return bj(da.domain)
}return null};var bj=function(e){var dV=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return dV.split("/")[0]};var cD=function(){var dW=i(j)>0;var d1=null;var e=function(d2){return d2.split("_").join(":u:")};var dX=function(){var d2=false;var d3;d3=af(N,dW);if(d3!==null){d1=d3;d2=true}d3=af(cV,dW);if(d3!==null){d1=d3;d2=true}return d2};var d0=function(){var d2=false;var d3=av();if(d3){d1=d3;d2=true;cG=false}return d2};var dV=function(){var d2=false;var d4=af("utm_source",dW);if(d4!==null){d2=true;d1=":utm:"+e(d4);var d6=["utm_medium","utm_campaign","utm_content","utm_term"];var d3;for(var d5=0;d5<d6.length;d5++){d3=af(d6[d5],dW);if(d3!==null){d1=d1+"_"+e(d3)}}}return d2};var dZ=function(){var d4,d3,d2=false;d3=af("_openstat",dW);if(!d3){return false}if(dY(d3)){d4=d3}else{d4=encodeURI(cB.decode(d3));if(!dY(d4)){d4=d3}}if(d4){d4=e(d4).split(";").join("_");d1=":openstat:"+d4;d2=true}return d2};var dY=function(d2){return d2.match(/^([^;]*(;[^;]*){3})$/)!==null};if(dX()){z("Init marker: init from RS param "+d1);return d1}if(dV()){z("Init marker: init from UTM "+d1);return d1}if(dZ()){z("Init marker: init from OpenStat "+d1);return d1}z("Init marker: try init from cookie "+d1);d0();return d1};var o=function(){return cv.get(co)};var J=function(){return cv.get(a7)};var ah=function(){z("Call: saveReferrer");cv.set(aP,k)};var ck=function(){z("Call: removeReferrer");cv.remove(aP)};var dw=function(){dF(bq,aM(bI),bK())};var de=function(){z("Call: refreshPromoCode");if(aS()){z("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return i(co)};aD(e());if(!cy.onload){cy.onload=function(){aD(e())}}setTimeout(function(){aD(e())},50);setTimeout(function(){aD(e())},200);setTimeout(function(){aD(e())},2000);setTimeout(function(){aD(e())},10000)};cy.roistatPromoCodeRefresh=de;var dB=function(){var e=[];var dV=M.getElementsByClassName(aq);if(dV&&dV.length){e=dV}return e};var aD=function(e){var dX=dB();z("setPromoCode: "+e+" in "+dX.length+" elements");for(var dW=0;dW<dX.length;dW++){var dV=dX[dW];dV.innerHTML=e?e:""}};var bX=function(){var dW=cD(),dV=i(bq),dY=dW!==null,dX=true;var d0=aM(aM(dW)).toLowerCase().split("+").join(" "),dZ=aM(aM(dV)).toLowerCase().split("+").join(" ");if(dW&&dV){dX=d0!==dZ}var e=dY&&dX;a4="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dW+":"+d0+" and old "+dV+":"+dZ;z(a4);return e};var aT=function(){var dV=function(d3){return/[\u0400-\u04FF]/.test(d3)};var d2=false,dZ=k,e=cv.get(aP),d1=cy.location.host;if(!dZ||!d1){z("Call: needOverrideByReferrer (result "+(d2?"true":"false")+"), skip because one of params is empty");return d2}d1=bj(d1);dZ=aM(dZ);e=aM(e);var dX=bj(dZ);if(dp(dZ,"xn--")&&dV(d1)){z("Call: needOverrideByReferrer (result "+(d2?"true":"false")+"), skip because of bugs with punycode in FF");return d2}if(!dX){z("Call: needOverrideByReferrer (result "+(d2?"true":"false")+"), skip because current referrer is null");return d2}if(!e){d2=!dp(dX,d1);z("Call: needOverrideByReferrer (result "+(d2?"true":"false")+"), compare current referrer and host");return d2}if(dp(dZ,e)){z("Call: needOverrideByReferrer (result "+(d2?"true":"false")+"), skip because the same referrer");return d2}var d0=d1.split(".").length>2&&dX.split(".").length>2;var dY=cy.roistatCookieDomain!==bR&&cy.roistatCookieDomain!==d1;var dW=dX.split(".").slice(1).join(".")===d1.split(".").slice(1).join(".");if(d0&&dY&&dW){z("Call: needOverrideByReferrer (result "+(d2?"true":"false")+"), skip because sub domains of same domain");return d2}d2=!(dp(dX,d1)||(dp(d1,dX)));z("Call: needOverrideByReferrer (result "+(d2?"true":"false")+") referrerHost: "+dX+", currentHost: "+d1);return d2};var b3=function(){return af("utm_nooverride")==="1"};var dQ=function(){return !cA()&&!b3()&&(bX()||aT())};var b4=function(dV,e){return(dV&&e&&dV!=e)};var bn=function(dX){var dV=["cookieExpire"];var dZ=dX.leadHunterEnabled;if(Number(cv.get(bS))!==Number(dX.leadHunterEnabled)){cv.set(bS,Number(dX.leadHunterEnabled))}if(dZ){var dY={expires:T,path:"/"};if(da.domain){dY.domain=da.domain}dF(ai,1,dY)}for(var dW in dX){if(!Object.prototype.hasOwnProperty.call(dX,dW)){continue}if(!dZ&&dW.indexOf("leadHunter")>=0&&dW.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aC(dV,dW)){if(dW.indexOf("leadHunterTargetPagesMap")!==-1){var e=dx(dX[dW]);if(e!==null){cv.setObject("roistat_"+dW,e)}continue}cv.set("roistat_"+dW,dX[dW])}}};var db=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};
if(Number(cv.get(bm))!==Number(e.is_enabled)){cv.set(bm,Number(e.is_enabled))}if(Number(cv.get(cf))!==Number(e.vk.is_enabled)){cv.set(cf,Number(e.vk.is_enabled))}if(cv.get(c5)!==roistat.multiwidget.vk.link){cv.set(c5,roistat.multiwidget.vk.link)}if(Number(cv.get(U))!==Number(e.fb.is_enabled)){cv.set(U,Number(e.fb.is_enabled))}if(cv.get(dr)!==roistat.multiwidget.fb.link){cv.set(dr,roistat.multiwidget.fb.link)}if(Number(cv.get(cQ))!==e.telegram.is_enabled){cv.set(cQ,Number(e.telegram.is_enabled))}if(cv.get(bA)!==roistat.multiwidget.telegram.link){cv.set(bA,roistat.multiwidget.telegram.link)}if(Number(cv.get(c1))!==e.whats_app.is_enabled){cv.set(c1,Number(e.whats_app.is_enabled))}if(cv.get(bQ)!==roistat.multiwidget.whatsApp.link){cv.set(bQ,roistat.multiwidget.whatsApp.link)}if(Number(cv.get(dU))!==e.viber.is_enabled){cv.set(dU,Number(e.viber.is_enabled))}if(cv.get(cT)!==roistat.multiwidget.viber.link){cv.set(cT,roistat.multiwidget.viber.link)}cv.setObject(au,e)};var cz=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(cv.get(c2))!==Number(e.is_enabled)){cv.set(c2,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;cv.setObject(C,e.advanced_settings)};var v=function(e){cy.roistat.geo=e;cv.setObject(l,e)};var cK=function(e){z("PromoCode: save settings");cv.setObject(a0,e)};var dL=function(dY,d0,dX,dV,dZ,e,d1,dW){bn(dY);roistat.callTracking.enabled=d0.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dX.email;roistat.emailtracking.trackingEmail=dX.trackingEmail;roistat.emailtracking.emails=dX.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=dZ;db(e);cz(d1);v(dV);cK(dW)};cy.roistatModuleSetVisitCookie=function(dZ,d7,dX,dV,d6,d2,e,d9,d1,d8){z("Call: roistatModuleSetVisitCookie("+dZ+")");var d3;if(typeof dX.cookieExpire!=="number"){d3=bK().expires}else{d3=dX.cookieExpire}var d0=i(co);var d5={expires:d3,path:"/"};if(da.domain){d5.domain=da.domain}cv.save(co,dZ,d5);if(!cv.get(a7)){var dW={expires:10*365*24*60*60,path:"/"};if(da.domain){dW.domain=da.domain}cv.save(a7,dZ,dW)}var d4=dX.abTests;if((typeof d4!=="undefined")&&cv.isAvailable()){cv.setObject("abTesting",d4)}applyTests();var dY=dX.isNeedToListenRequests;if((typeof dY!=="undefined")&&cv.isAvailable()){cv.set(aw,dY)}aD(dZ);if(d7){ay(d7);dF(bq,d7,d5)}if(cy.roistatCallback!==bR){cy.roistatCallback(dZ,d7)}if(!d9){d9={}}dL(dX,dV,d6,d2,e,d9.multiwidget_settings,d1,d8);roistat.callTracking.phone=dV.phone;roistat.callTracking.sessionTime=dV.sessionTime;roistat.callTracking.replacementClasses=dV.replacementClasses;roistat.callTracking.phoneScriptsJson=dV.scripts;roistat.callTracking.rawPhone=dV.raw_phone;roistat.visit=dZ;z("Call: pre renderPromoCode");bi();de();if(b4(d0,dZ)){z("roistatModuleSetVisitCookie: visit changed from "+d0+" to "+dZ)}ds();dz();c4()};cy.roistatUpdateSettings=function(e){z("Set settings.");cq.isSettingsUpdating=false;dL(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);dz();c4()};var ax=function(){var e;if(cy.roistatIsInitVisit===true){e=false}else{e=cv.get(co)>0}z("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var bd=function(){return k?c(k):""};var S=function(){return bk()+"//"+x+"/api/site/"+ap+"/"+bf()};var cH=function(){var dV={expires:1,path:"/"};var e={expires:bT,path:"/"};if(da.domain){dV.domain=da.domain;e.domain=da.domain}var dW=i(bJ);if(dW){dF(al,dW,e)}dF(bJ,"",dV);dF(W,"",dV)};var b7=function(){var dV=cv.getObject("abTesting");if(!dR(dV)){return""}var dX,dW,e=[];for(dX in dV){if(!Object.prototype.hasOwnProperty.call(dV,dX)){continue}dW=dV[dX];e.push(dW.id+":"+dW.variantId)}return e.join(",")};var bU=function(){z("Call: setVisitIdCookie");var dV=function(){var d5=bd(),d0=cy.roistatIsInitVisit===true?o():0,d8=i(bJ),d3=i(cg),dZ=cv.get(a7);d8=d8?d8:"";dZ=dZ?dZ:"";bI=bI&&(!aT()||cG)?aM(aM(bI)):"";I("Init visit with visit id from cookie, visit_id: "+d0+" and referrer: "+d5+" calculateApiUrl marker: "+bI);var d4=encodeURIComponent(cM);z("Calltracking: enabled="+ce.callTrackingEnabled+",manual="+ce.callTrackingManual);var d6=JSON.stringify(cy.roistat.page.params);var d2=A();var dY="";for(var d1 in d2){if(!d2.hasOwnProperty(d1)){continue}var d7=d2[d1];if(d7!==null){dY+="&"+d1+"="+encodeURIComponent(d7)}}return S()+"/addVisit?v="+ac+"&marker="+encodeURIComponent(bI)+"&visit="+d0+"&first_visit="+dZ+"&guid="+d3+"&phone_prefix="+cW+"&phone_prefix_bind="+dN+"&phone_scripts_bind="+X+"&referrer="+d5+"&page="+d4+"&ab="+c(d8)+"&ab_variants="+c(b7())+"&"+h()+"="+aA()+(d6==="{}"?"":"&page_params="+encodeURIComponent(d6))+((!ce.callTrackingEnabled||ce.callTrackingManual)?"&call_tracking_disabled=1":"")+dY};var e=function(dY){setTimeout(function(){z("Call: setVisitIdCookie script creation after timeout");
var dZ=M.createElement("script");dZ.onload=dZ.onreadystatechange=function(){var d1=this.readyState?this.readyState:"unknown";z("Call: setVisitIdCookie script state changed to "+d1)};dZ.src=dY;dZ.type="text/javascript";dZ.async=true;dZ.id=ae;var d0=M.getElementsByTagName("script")[0];d0.parentNode.insertBefore(dZ,d0);z("Call: setVisitIdCookie appended "+((M.getElementById(ae))?"true":"false"));z("Call: sendJSONPRequest to URL "+dY);cH()},ce.jsonpRequestTimeout)};if(bI){ay(bI);dw()}var dX=i(a1);if(dX){dF(cg,dX,da)}aI();var dW=dV();e(dW);k?ah():ck()};var b2=function(){z("Call: sendAbTests");var dW=function(){var d0=bf(),dZ=i(co);return bk()+"//"+x+"/site-api/"+aQ+"/"+d0+"/visit/"+dZ+"/addAbVariant"};var dX=i(bJ);var dV=i(al);if(dX===dV||!dX){cH();return}var dY=dW();dY=dY+"?ab="+c(dX);var e=M.createElement("img");e.src=dY;cH()};var a3={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(a3.Android()||a3.BlackBerry()||a3.iOS()||a3.Opera()||a3.Windows())}};var bc={isIE:function(dW,dY){var dZ="IE",dV=M.createElement("B"),e=M.documentElement,dX;if(dW){dZ+=" "+dW;if(dY){dZ=dY+" "+dZ}}dV.innerHTML="<!--[if "+dZ+']><b id="iecctest"></b><![endif]-->';e.appendChild(dV);dX=!!M.getElementById("iecctest");e.removeChild(dV);return dX},isSafari:function(){var e=cy.navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}};var du=function(){return cv.get(ag)};var ak=function(){var e="";cy.onerror=function(d0,dZ,dW,dY,dX){var dV=!dY?"":", column: "+dY;dV+=!dX?"":", error: "+dX;e=e+", Error: "+d0+", url: "+dZ+", line: "+dW+dV};setTimeout(function(){var d2=false,d3="";var dY=dB();for(var d1=0;d1<dY.length;d1++){var dX=dY[d1];if(dX!==null&&!dX.innerHTML){d2=true;d3="Promo HTML: "+dX.innerHTML}}if(!(i(co)>0)){d2=true;d3=d3+"; roistat_visit = "+i(co)}if(d2){var dW=M.getElementById(ae);var dV=dW?1:0;var dZ=cy.navigator.userAgent;d3=encodeURIComponent(d3);var d0=M.createElement("img");d0.src=bk()+"//"+x+"/site-api/"+aQ+"/"+bf()+"/debug?message="+d3+"&agent="+dZ+"&"+h()+"="+aA()+"&jserror="+e+"&scriptResponse="+dV+"&version="+ac+"&debug="+br}},20000)};var bO=function(){var dW=M.getElementsByTagName("body");var dX=M.documentElement;var dV=0,dY=0;if(dW.length){var e=dW[0];dV=cy.innerWidth||dX.clientWidth||e.clientWidth;dY=cy.innerHeight||dX.clientHeight||e.clientHeight}else{dV=cy.innerWidth||dX.clientWidth;dY=cy.innerHeight||dX.clientHeight}return{width:dV,height:dY}};var bi=function(){var d0=M.getElementsByClassName("roistat-promo-wrap");if(d0.length){z("PromoCode: old promo code length - exit");return}if(aS()){z("PromoCode: Shut down because only online chat need to be inited");return}var dZ=cv.getObject(a0);if(dZ&&dZ.hasOwnProperty("is_enabled")){cy.roistat.promoCode.isEnabled=dZ.is_enabled;z("PromoCode: set is_enabled from storage")}var dX=function(){var d7=M.createElement("div");d7.innerHTML=roistatPromoCode;var d5=M.getElementsByTagName("body");if(d5.length){d5[0].appendChild(d7)}z("PromoCode: appended to body "+roistatPromoCode.length);var d6=M.getElementsByClassName("roistat-promo-wrap")[0];if(!d6){z("PromoCode: roistat-promo-wrap not found, skip");return}var d4=d6.style;var d2,d3,d1;setInterval(function(){d2=bO();d3=d6.offsetWidth;d1=d6.offsetHeight*2;switch(roistatPosition){case"top_left":d4.left=0;d4.top=0;break;case"top":d4.left=((d2.width-d3)/2)+"px";d4.top=0;break;case"top_right":d4.right=0;d4.top=0;break;case"left":d4.left=0;d4.top=((d2.height-d1)/2)+"px";break;case"right":d4.right=0;d4.top=((d2.height-d1)/2)+"px";break;case"bottom_left":d4.left=0;d4.bottom=0;break;case"bottom":d4.left=((d2.width-d3)/2)+"px";d4.bottom=0;break;case"bottom_right":d4.right=0;d4.bottom=0;break;default:d4.left=0;d4.top=0}},500)};var e=cv.getObject("promo_code_options");if(e){z("PromoCode: options already set");cy.roistatPromoCode=e.template;cy.roistatPosition=e.position;dX()}else{if(!cy.roistat.promoCode.isEnabled){z("PromoCode: is not available, skip");return}var dY=M.getElementsByTagName("head")[0]||M.documentElement;var dW=M.createElement("script");dW.src=bk()+"//"+x+"/site-api/"+aQ+"/"+bf()+"/getPromoCode";dY.insertBefore(dW,dY.firstChild);z("PromoCode: loading started");var dV=false;dW.onload=dW.onreadystatechange=function(){if(!dV&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dV=true;dW.onload=dW.onreadystatechange=null;if(dY&&dW.parentNode){dY.removeChild(dW)}}if(!dV){return}z("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){z("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};cv.setObject("promo_code_options",e);dX()}}};var aC=function(dV,dW){for(var e=0;e<dV.length;e++){if(dV[e]===dW){return true}}return false
};var I=function(dV){if(!ao||dV===""){return}var e=o();dD("visit: "+e+" "+dV)};var dD=function(dV){var e=S()+"/log?log="+encodeURIComponent(dV);a6(e)};var aR=function aR(){var dY=cy.onpopstate;var dZ=cy.history.pushState;var e=cy.history.replaceState;an(cy,"popstate",function dX(d0){z("[Roistat]: popstate event catch");cm();if(aj()&&typeof dY==="function"){dY(d0)}});an(cy.history,"pushState",function dW(d1,d2,d0){z("[Roistat]: pushState event catch");cm();if(aj()&&typeof dZ==="function"){dZ.apply(this,[d1,d2,d0])}});an(cy.history,"replaceState",function dV(d1,d2,d0){z("[Roistat]: replaceState event catch");cm();if(aj()&&typeof e==="function"){e.apply(this,[d1,d2,d0])}})};(function bY(){aR();if(cy.onRoistatModuleLoaded!==bR&&typeof cy.onRoistatModuleLoaded==="function"){cy.onRoistatModuleLoaded()}})();(function aK(){var dV="fngr.roistat.com";var dZ=false;var dY=bf()==="e6b168b42cac9ce8e85d0bdde71e039a";if(!dZ&&!dY){z("Fingerprint: disabled");return}cy.roistat.crossdevice={registerFingerprint:function dW(d0){z("Fingerprint: collected data "+JSON.stringify(d0));roistat.registerOnVisitProcessedCallback(function(){z("Fingerprint: sending to service");var d1=Object.keys(d0).map(function(d3){return d0[d3].key+"="+encodeURIComponent(d0[d3].data)}).join("&");d1=d1+"&visit="+bf()+"|"+J()+"|"+roistat.getVisit();d1+="&host="+encodeURIComponent(cy.location.host);var d2=bk()+"//"+dV+"/register?"+d1;a6(d2)})},markVisit:function e(d0){z("Fingerprint: marking visit "+d0)}};z("Fingerprint: initialising library");var dX=bk()+"//"+dV+"/static/fingerprint.js";a6(dX)})();var bV=function(dV){var d0=function(d7,d5){var d4;if(dp(d5,"*")){var d6=new RegExp(d5.split("*").join(".*"));d4=d6.test(d7)}else{d4=d7===d5}z("LeadHunter: compare current: "+d7+", setting: "+d5+" with result = "+(d4?1:0));return d4};var e=cy.location.href,dX=false,dW=false,d2="",dY=0,d1;d1=dV?dV.split(","):[];if(!e||d1.length===0){dX=true}else{d2=aU(e);var d3;for(var dZ=0;dZ<d1.length;dZ++){d3=d1[dZ].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(d3)){if(d0(d2,d3.split(/^!/).join(""))){dW=true;break}}else{dY++;if(d0(d2,d3)){dX=true;break}}}}if(dW){z('LeadHunter: current page "'+d2+'" is disabled by list');return false}if(!dX&&dY>0){z('LeadHunter: current page "'+d2+'" is not listed');return false}z('LeadHunter: current page "'+e+'", cleaned: "'+d2+'" is not disabled in '+d1.length+" list of pages");return true};try{dK()}catch(cJ){I(cJ)}(function bh(){var ek="empty",d1=false,dV=true,eb=false;var eg={roistat_visit:i(co),marker:bI,user_agent:cy.navigator.userAgent,current_page:{title:M.title,href:cy.location.protocol+"//"+cy.location.host+cy.location.pathname}};var el=function(er,eq,ep){if(er.addEventListener){er.addEventListener(eq,ep,false)}else{if(er.attachEvent){er.attachEvent("on"+eq,ep)}else{z("Handler could not be attached")}}};var ed=function(er,ep){if(er===bR||typeof ep!=="string"||ep.length===0){return}var eq=er.getElementsByClassName(ep);if(eq===bR||eq.length===0){return}return eq[0]};var em=function(ep){return typeof ep==="object"&&ep!==null};var d2=function(ep,er,eq){if(em(ep)){if(eq){ep.classList.add(er);return}ep.classList.remove(er)}};var en=cy.visualViewport;var ea="visualViewport" in cy;var ee=function(ep){return(ep===0)?1:ep};var eo=function(){var ep;if(ea){ep=1/ee(en.scale)}else{ep=cy.innerWidth/ee(cy.outerWidth)}return ep};var ei=function(){if(bL()){return"none"}return"scale("+eo()+")"};var d0=function(){if(!bL()){return"none"}return"scale("+eo()+")"};var eh={leadHunter:function(){var gc="roistat-lh-form",eN="roistat-lh-form",gf="roistat-lh-head-text",e1="roistat-lh-head",eJ="roistat-lh-thank-you",fs="roistat-lh-thank-you",eu="roistat-lh-close",ev="roistat-lh-submit",fa="roistat-lh-hidden",fR="roistat-lh-wrap",eP="roistat-lh-popup-wrapper",fr="roistat-lh-popup",ge="roistat-lh-agreement",fn="roistat-lh-agreement roistat-lh-mobile",gu="roistat-lh-agreement-input",f3="roistat-lh-agreement-link",ep="roistat-lh-agreement-doc",f8="roistat-lh-alert-row",fz="roistat-lh-agreement",fm="roistat-lh-popup-iframe",fC="roistat_leadHunterUrl",f5="roistat_leadHunterAppearanceUrl",fe="roistat_leadHunterTargetPagesList",eI="roistat_leadHunterCaught",fJ="roistat_leadHunterMinTime",e5="roistat_leadHunterAutoShowTime",fG="roistat_leadHunterPulsatorEnabled",eZ="roistat_leadHunterScriptsCaught",gv="roistat_leadHunterScriptsShownCount",fk="roistat-lh-load-done",eO="roistat-lh-close-modal",fT="roistat-lh-script-settings",fS="roistat-lh-setting-size",f9="roistat-lh-before-submit",fD="roistat-lh-before-submit-done",gh="roistat-lh-after-submit",fW="roistat-lh-event-data",fX="roistat-lh-translate-form",gr={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var eH=0.3,eT=0.001,eK=false,eW=0,eR=0,eX=0,gj=0,eV=0,fb=false,ez=false,gt=false,eU,f7,fu,fA,fQ,e0,gs,gn,f4,gq,eD,gk,fN,fv,fl,eG,es,e9,eY,e6,f1,ga,e3,gd,gi,fd;
var gm={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var gg=function(gA){var gz=encodeURIComponent?encodeURIComponent:encodeURI;return gz(gA)};var fV=function(){if(!cy.roistat.leadHunter.isEnabled){return false}if(cy.roistatLeadHunterInited){return false}cy.roistatLeadHunterInited=true;if(cv.get(bS)<1){z("LeadHunter: disabled");return false}return true};var e8=function(){es=cv.get(fC);if(!es){z("LeadHunter: not active cause of empty url");return false}cb();e9=cv.get(f5);gj=cv.get(fJ);eV=cy.roistat.leadHunter.form.autoShowTime===null?cv.get(e5):cy.roistat.leadHunter.form.autoShowTime;d1=cv.get(fG)==1;er();z("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(d1?1:0));return true};var fg=function(){return cv.get(eI)>0};var er=function(){if(!(i(ai)>0)){z("LeadHunter: not active, expired for this visit");fb=true}};var eA=function(gz){gt=true;e6=f1.src;var gA={version:ac,additionalNotifyEmail:cy.roistat.leadHunter.additionalNotifyEmail,projectKey:bf(),language:am,visitId:cP(),moduleTargetOrigin:cy.location.origin,referrer:cy.location.href,windowWidth:cy.innerWidth||0,iframeWrapperWidth:fA.offsetWidth||0,sendRequestUrl:cv.get(fC),message:fk};f1.contentWindow.postMessage(gA,e6);fI();if(gz&&bV(cv.get(fe))){z("Beta Test on, iframe fired, rise up iframe show count state");et()}};var fj=function(){ez=true;ey("click");eA();fP()};var ex=function(){var gz=cy.location.hash;if(!gz){return}if(dp(gz,"roistat-lead-hunter")){fj()}};var fh=function eF(){z("LeadHunter: binding timeout");if(fb){z("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eK){z("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eV>0){var gz=(eW-cC())+eV*1000;z("LeadHunter: binding timeout with delay "+gz+" ms");clearTimeout(gm.timeoutId);gm.timeoutId=setTimeout(function(){z("LeadHunter: form auto activate with autoTime = "+eV);if(!eK){z("LeadHunter: show by timeout");ez=true;ey("auto");eA(true);fP()}},gz)}else{clearTimeout(gm.timeoutId);z("LeadHunter: auto show time is not positive, feature disabled")}};var f6=function(){f4.onclick=fQ.onclick=fx;gq.onclick=fc;if(em(gk)){el(gk,"click",fo)}if(em(fN)){el(fN,"change",gx)}var gA=M.getElementsByClassName("roistat-lh-input");if(Array.isArray(gA)){for(var gD=0;gD<gA.length;gD++){el(gA[gD],"keyup",function(gH){gH=gH||event;var gG=(gH.keyCode?gH.keyCode:gH.which);if(gG==13){fc()}})}}var gB=cy.onresize;cy.onresize=function(gG){if(gB){gB(gG)}gb(gG)};if(!fb){var gz=M.onmouseout;M.onmouseout=function(gG){if(gz){gz(gG)}fM(gG)}}if(d1&&!d9()&&em(eU)){eU.onmouseover=function(){at(eU,"roistat-lh-pulsator-hover")};eU.onmouseout=function(){cn(eU,"roistat-lh-pulsator-hover")};eU.onclick=function(){fj()};cy.addEventListener("resize",function gF(){if(em(eU)){eU.style.transform=ei()}});if(ea){en.addEventListener("resize",function gE(){if(em(eU)){eU.style.transform=ei()}})}}var gC=cy.onhashchange;cy.onhashchange=function(){if(gC){gC.apply(this,arguments)}ex()}};var gp=function(){if(d1&&!d9()&&em(eU)){eU.onmouseover=function(){at(eU,"roistat-lh-pulsator-hover")};eU.onmouseout=function(){cn(eU,"roistat-lh-pulsator-hover")};eU.onclick=function(){fj()};cy.addEventListener("resize",function gD(){eU.style.transform=ei()});if(ea){en.addEventListener("resize",function gC(){if(em(eU)){eU.style.transform=ei()}})}}fQ.onclick=fx;f1=M.getElementById(fm);if(em(f1)){el(f1,"load",function(){eA();gl()})}var gA=cy.onresize;cy.onresize=function(gE){if(gA){gA(gE)}gb(gE)};if(!fb){var gz=M.onmouseout;M.onmouseout=function(gE){if(gz){gz(gE)}if(!aj()){z("ShowLimit: Beta Test off, check cursor usually");fM(gE)}else{z("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fO()&&!eS()){z("ShowLimit: Check cursor allowed");fM(gE,true)}}}}var gB=cy.onhashchange;cy.onhashchange=function(){if(gB){gB.apply(this,arguments)}ex()}};var fw=function(gA){var gz=M.getElementsByClassName(gA);if(gz.length>0){return gz[0]}else{return null}};var ft=function(){var gC=fw("roistat-lh-title");if(em(gC)&&roistat.leadHunter.form.title){gC.innerHTML=roistat.leadHunter.form.title}var gA=fw("roistat-lh-sub-title");if(em(gA)&&roistat.leadHunter.form.subTitle){gA.innerHTML=roistat.leadHunter.form.subTitle}var gB=fw("roistat-lh-thank-you");if(em(gB)&&roistat.leadHunter.form.thankYouText){gB.innerHTML=roistat.leadHunter.form.thankYouText}var gE=fw("roistat-lh-submit");if(em(gE)&&roistat.leadHunter.form.buttonText){gE.value=roistat.leadHunter.form.buttonText}var gD=fw("roistat-lh-text-label-name");if(em(gD)&&roistat.leadHunter.form.nameLabel){gD.innerHTML=roistat.leadHunter.form.nameLabel}var gz=fw("roistat-lh-text-label-contact");if(em(gz)&&roistat.leadHunter.form.contactLabel){gz.innerHTML=roistat.leadHunter.form.contactLabel}};var eQ=function(gA,gE,gD){if(bZ&&M.body===null){return}var gz;if(!gA){z("LeadHunter: deactivating, empty form")}else{z("LeadHunter: rendering hidden form")}fQ=M.createElement("div");fA=M.createElement("div");fA.innerHTML=gA;fQ.className=fa;fA.className=fa;z("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(d1?1:0));
if(gE&&d1&&gD&&!d9()){var gB=typeof gD.position==="string"&&gD.position!==""?gD.position:"bottomRight";gz=M.createElement("div");gz.innerHTML=gE;eU=gz.childNodes.item(0);f7=eU.childNodes.item(1);fu=eU.childNodes.item(2).childNodes.item(0);f7.setAttribute("style","background: "+gD.button.background+";");fu.setAttribute("style","fill: "+gD.button.color+";");eU.setAttribute("style","bottom: "+gr[gB].bottom+";right:"+gr[gB].right+";");eU.style.transformOrigin=gr[gB].transformOrigin;eU.style.transform=ei();gm.pulsator.previousClass=eU.className;eU.className=fa;M.body.appendChild(eU)}M.body.appendChild(fQ);M.body.appendChild(fA);e0=M.getElementById(e1);gs=M.getElementById(eN);gn=M.getElementById(fs);f4=M.getElementById(eu);gq=M.getElementById(ev);eD=M.getElementById(ge);fN=M.getElementById(gu);gk=M.getElementById(f3);fv=M.getElementById(ep);fl=M.getElementById(f8);eG=M.getElementById(fz);var gC=fw(eP);eY=em(gC)&&gC.getAttribute("data-is-iframe");if(eY){gp()}else{ft();f6();ex();gl()}};var go=function(gB){var gA=gB.button&&gB.button.background&&gB.button.color;if(!gA){return}cv.setObject(cc,fd);var gz=typeof gB.position==="string"&&gB.position!==""?gB.position:"bottomRight";if(em(f7)){f7.setAttribute("style","background: "+gB.button.background+";")}if(em(fu)){fu.setAttribute("style","fill: "+gB.button.color+";")}if(em(eU)){eU.setAttribute("style","bottom: "+gr[gz].bottom+";right:"+gr[gz].right+";");eU.style.transformOrigin=gr[gz].transformOrigin;eU.style.transform=ei()}};var eE=function(){var gz=cv.get(cd),gB=cv.get(bF),gA=cv.getObject(cc);if(gA!==null){eQ(cB.decode(gz),cB.decode(gB),gA)}};var ff=function(){var gA=fA.clientWidth,gz=fA.clientHeight;if(em(fA)){fA.setAttribute("style",fA.getAttribute("style")+" width: "+gA+"px; height: "+gz+"px;")}if(em(gs)){gs.className=fa}if(em(e0)){e0.className=fa}if(em(eD)){eD.className=fa}if(em(gn)){gn.setAttribute("style","width: "+gA+"px; height: "+gz+"px; display: table-cell;");gn.className=eJ}setTimeout(function(){z("LeadHunter: close form after timeout");fx()},7000)};var fP=function(){var gA=Math.round((f2()-fA.clientHeight)/2);var gz=Math.round((gy()-fA.clientWidth)/2);if(em(fA)){fA.setAttribute("style","left: "+gz+"px; top: "+Math.max(0,gA)+"px;")}};var ey=function(gA){if(!bV(cv.get(fe))){return}if(cy.roistat.leadHunter.onBeforeAppear){z("LeadHunter: process user defined onBeforeAppear");cy.roistat.leadHunter.onBeforeAppear(gA);if(eY){fI()}}if(em(fA)){fA.setAttribute("style","left:20px;top:-20px;opacity:0");fA.className=fr}if(em(fQ)){fQ.className=fR}if(em(gs)){gs.className=gc}if(em(e0)){e0.className=gf}if(em(eD)){eD.className=fn}if(em(gn)){gn.setAttribute("style","");gn.className=fa}if(em(fQ)){fQ.setAttribute("style","opacity:0;")}eK=true;setTimeout(function(){fQ.setAttribute("style","opacity:.5;")},10);var gB=i(co),gz=e9+"?visit_id="+gB+"&page="+y();Y(gz);if(cy.roistat.leadHunter.onAfterAppear){z("LeadHunter: process user defined onAfterAppear");cy.roistat.leadHunter.onAfterAppear(gB,fQ,fA,gs);if(eY){fI()}}};var fU=function fy(){eW=cC();eE();z("LeadHunter: form initialized")};var gl=function fi(){z("LeadHunter: tuning appearance for page");if(!bV(cv.get(fe))||(cv.get(a5)&&!cv.get(ad))){z("LeadHunter: disabled on page");gm.leave.isShowEnabled=false;clearTimeout(gm.timeoutId);if(d9()){dV=false;d6()}if(em(eU)){eU.className=fa}}else{z("LeadHunter: enabled on page");if(!fg()&&!aj()){z("ShowLimit: Beta Test off, bindShowOnTimeout usually");gm.leave.isShowEnabled=true;fh()}if(aj()){z("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fO()&&!eS()){z("ShowLimit: bindShowOnTimeout allowed");gm.leave.isShowEnabled=true;fh()}}if(em(eU)){eU.className=gm.pulsator.previousClass}}};var e2=function fL(){z("LeadHunter: processing single page application state change");eW=cC();gl()};var f0=function fp(){aF(e2);var gA=function(){var gG=M.querySelector("html"),gC=600,gF=300,gI=cy.innerWidth,gB=getComputedStyle(gG).zoom,gE={};var gD=function(){var gJ=gG.style.cssText.split(";").find(function(gK){return gK.includes("--zoomLevel")});if(gJ!==bR){gJ=gJ.split(":");if(gJ.length>1){gJ=parseFloat(gJ[1])}else{return bR}}return gJ};var gH=gD();if(gH!==bR){gB=gH}if(gI<gC&&gI>=gF){gE={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gB};f1.contentWindow.postMessage({sizeSettings:gE,message:fS,windowWidth:cy.innerWidth||0},e6);return}if(gI<gF){gE={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gB};f1.contentWindow.postMessage({sizeSettings:gE,message:fS,windowWidth:cy.innerWidth||0},e6);return}gE={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gB};f1.contentWindow.postMessage({sizeSettings:gE,message:fS,windowWidth:cy.innerWidth||0},e6)};cy.roistatLeadHunterUpdate=gA;an(cy,"load",function(){gA()});an(cy,"resize",function(){gA()});an(cy,"message",function gz(gF){var gK=typeof gF.data==="string"?gF.data:gF.data.message;if(gK===fT){ga=gF.data.scriptId;e3=gF.data.showsLimit;var gJ=cv.getObject(r)!==null;if(gJ){eV=gF.data.leadHunterAutoShowTime;gj=gF.data.leadHunterMinTime;
fd=gF.data.leadHunterPulsatorSettings;cv.set(fJ,gj);cv.set(e5,eV);if(fd){var gI=Number(fd.isEnabled);z("Leadhunter: set pulsator setting "+gI);cv.set(fG,gI);go(fd)}}z("ShowLimit: Get lhScriptId: "+gF.data.leadHunterId+" and lhScriptMaxShownCount: "+gF.data.leadHunterMaxShownCount+" from lh widget");fF()}if(gK===eO){fx()}if(gK===fS){const gE=typeof gF.data==="object"&&gF.data.calibratingSize!==bR?gF.data.calibratingSize:true;f1.setAttribute("style","width: "+gF.data.width+"px !important; height: "+gF.data.height+"px !important;");if(gt&&!gE){f1.contentWindow.postMessage({message:fS,windowWidth:cy.innerWidth||0,calibratingSize:true},e6)}gb(gF)}if(gK===f9){var gD=gF.data.caughtLeadData;if(cy.roistat.leadHunter.onBeforeSubmit){z("LeadHunter: process user defined onBeforeSubmit");var gB=cy.roistat.leadHunter.onBeforeSubmit(gD);if(gB){gD=gB}}if(!aj()){z("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");eB()}else{z("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fH()}var gC=cv.getObject(cN);var gH=gC!==null;var gG=gH&&gD.isNeedCallback===null&&!Q(gC);if(gG){gD.isNeedCallback=0}f1.contentWindow.postMessage({caughtLead:gD,message:fD},e6)}if(gK===gh){if(cy.roistat.leadHunter.onAfterSubmit){z("LeadHunter: process user defined onAfterSubmit");cy.roistat.leadHunter.onAfterSubmit({name:gF.data.name,phone:gF.data.phone})}}})};function fI(){var gz={apiData:cy.roistat.leadHunter.form,message:fW};f1.contentWindow.postMessage(gz,e6)}function fF(){if(!fV()){z("checkLeadHunterLaunch false");return}var gz=cv.getObject(r)!==null;if(gz){eC()}if(!e8()){z("initSettings false");return}z("LeadHunter: activated");dk(function(){fU();gl();f0();if(typeof cy.onRoistatLeadHunterInited==="function"){cy.onRoistatLeadHunterInited()}})}function f2(){return(cy.innerHeight?cy.innerHeight:M.documentElement.clientHeight==0?M.body.clientHeight:M.documentElement.clientHeight)}function gy(){return(cy.innerWidth?cy.innerWidth:M.documentElement.clientWidth==0?M.body.clientWidth:M.documentElement.clientWidth)}function fM(gC,gz){gC=gC||event;eX=gC.clientY;var gA=eX/f2(),gE=eR>0&&eR>gA,gB=gA<eT,gD=(cC()-eW)>gj*1000;if(gE&&gB&&!eK&&gD&&gm.leave.isShowEnabled&&!fg()){z("LeadHunter: show modal with because move up ("+eR+" -> "+gA+") and in modal zone and show on leave enabled");ey("exit");eA(gz);fq(gC)}if(gA<eH){eR=gA}}function gb(gz){if(ez){fP()}else{gz=gz||event;fq(gz)}}function fq(gE){var gA=gE.type==="message"?gE.data.width:fA.offsetWidth;var gB=gy();var gz=gE.clientX-Math.round(gA/2)||fA.offsetLeft;gz=Math.max(20,Math.min(gz,gB-gA-20));var gF=gz+gA>gB-40;if(gF){var gC=(gz+gA-20)-(gB-40);gz=gz-gC}var gD=gB-40>gA?"":"width: "+(gA-40)+"px;";if(em(fA)){fA.setAttribute("style","left: "+gz+"px; top: 0px; "+gD)}}function eB(){cy.roistatSetCookie(eI,1,da)}function fx(){if(!aj()){z("ShowLimit: Beta Test off, setCookieLeadHunterCaught");eB()}if(em(fQ)){fQ.setAttribute("style","opacity:0")}if(em(fA)){fA.style.top="-"+fA.offsetHeight*2+"px";setTimeout(function(){fA.className=fQ.className=fa},500)}}function fc(){var gN=M.getElementById("roistat-lh-phone-input"),gB=M.getElementById("roistat-lh-name-input"),gD,gL;gD=gN===null?"":gN.value;gL=gB===null?"":gB.value;var gI={name:gL,phone:gD,isNeedCallback:null,callbackPhone:null,fields:{}};if(cy.roistat.leadHunter.onBeforeSubmit){z("LeadHunter: process user defined onBeforeSubmit");var gE=cy.roistat.leadHunter.onBeforeSubmit(gI);if(gE){gI=gE}}var gK=gI.phone.length<1;var gM=gI.phone.indexOf("_")===-1;var gG=!gK&&gM;var gJ=gI.name.length<1;var gA=!gJ||!cy.roistat.leadHunter.form.isNameRequired;if(!gG&&em(gN)){gN.setAttribute("style","border: 2px solid #E0571A;");return}if(!gA&&em(gB)){gB.setAttribute("style","border: 2px solid #E0571A;");return}var gz=es+"?v="+ac+"&lead-hunt-input="+encodeURIComponent(gI.phone)+"&lead-name="+encodeURIComponent(gI.name)+"&visit="+cP();if(gI.isNeedCallback!==null&&gI.isNeedCallback!==bR){gz=gz+"&is_need_callback="+(gI.isNeedCallback>0?1:0)}if(gI.callbackPhone){gz=gz+"&callback_phone="+gI.callbackPhone}if(cy.roistat.leadHunter.additionalNotifyEmail!==null){gz=gz+"&additional_email="+encodeURIComponent(cy.roistat.leadHunter.additionalNotifyEmail)}var gC=0;if(gI.fields&&typeof gI.fields==="object"){for(var gF in gI.fields){if(gI.fields.hasOwnProperty(gF)){++gC}}}if(gC>0){gz=gz+"&fields="+gg(JSON.stringify(gI.fields))}gz=gz+"&t="+cC();var gH=M.createElement("img");gH.src=gz;if(em(gN)){gN.setAttribute("style","")}if(!aj()){z("ShowLimit: Beta Test off, caught LH usually");eB()}else{z("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fH()}if(!em(gn)){fx();e7()}else{ff()}if(cy.roistat.leadHunter.onAfterSubmit){z("LeadHunter: process user defined onAfterSubmit");cy.roistat.leadHunter.onAfterSubmit({name:gL,phone:gD})}}function fo(gz){if(gz.preventDefault){gz.preventDefault()}else{gz.returnValue=false}if(em(fv)){fv.style.display==="block"?fv.style.display="none":fv.setAttribute("style","display: block; padding: 0 30px; width:"+fA.clientWidth+"px;")
}gb()}function gx(){if(em(gq)){gq.disabled===true?gq.disabled=false:gq.disabled=true}if(em(fl)){fl.style.display==="block"?fl.style.display="none":fl.style.display="block"}}function e7(){M.onmousemove=null;if(em(fQ)){fQ.onresize=null}}var e4=function(gF,gI){if(!gF||!gI){z("LeadHunter: skip phone mask render due to empty input or mask");return}z("LeadHunter: render phone mask "+gI+" for input: "+gF.value);if(cy.roistatRenderPhoneMaskMutex){return}cy.roistatRenderPhoneMaskMutex=true;var gC="_",gB="x",gE="х",gD=gI.toLowerCase().split(gB).join(gC).split(gE).join(gC);var gA=function(gJ){if(gF.setSelectionRange){gF.setSelectionRange(gJ,gJ)}else{if(gF.createTextRange){var gK=gF.createTextRange();gK.collapse(true);gK.moveEnd("character",gJ);gK.moveStart("character",gJ);gK.select()}}};var gG=function(gJ){if(!gJ){return 0}var gK=gJ.indexOf(gC);if(gK<0){return gJ.length}return gK};var gH=function(gJ){gA(gG(gJ))};var gz=function(gS){var gT=gD.split("");if(!gS){return gD}var gJ=gS.split("");var gU=[],gR,gO,gQ,gN,gL,gK,gP;for(var gM=0;gM<gT.length;gM++){gO=gT[gM];if(gM>=gJ.length){gU.push(gO);continue}gL=((gM+1)<gT.length)?gT[gM+1]:null;gK=((gM+1)<gJ.length)?gJ[gM+1]:null;gP=((gM+2)<gJ.length)?gJ[gM+2]:null;gR=gJ[gM];gQ=parseInt(gR)>=0;gN=(gO===gC)&&gQ;if(!gN){gU.push(gO);continue}if(gK===gC&&gL!==gC&&gP!==gL){gU.push(gO);continue}gU.push(gR)}return gU.join("")};setTimeout(function(){var gJ=gz(gF.value);if(gF.value!==gJ){gF.value=gJ}gH(gJ);cy.roistatRenderPhoneMaskMutex=false},1)};var fZ=function(gz,gB,gA){cv.set(cd,cB.encode(gz));cv.set(bF,cB.encode(gB));cv.setObject(cc,gA)};var fE=function(gz){am=gz;if(f1===bR){return}eq()};var eq=function(){var gz={language:am,message:fX};f1.contentWindow.postMessage(gz,e6)};var fH=function(){z("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gz=eL(eZ);if(!gz){gz={}}z("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gz[ga]=1;fY(eZ,gz)};var et=function(){z("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gA=eL(gv);if(!gA){gA={}}var gB=gA.hasOwnProperty(ga);if(!gB){z("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");gA[ga]=0}var gz=gA[ga]+1>e3;if(gz){z("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}z("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gA[ga]+=1;fY(gv,gA)};var fY=function(gz,gA){dF(gz,JSON.stringify(gA),da)};var eL=function(gz){var gA=i(gz);if(typeof gA!=="undefined"){return JSON.parse(gA)}return gA};var eS=function(){if(e3===0){z("ShowLimit: show limit off and set to 0");return false}var gz=eL(gv),gA=gz?gz[ga]:null,gB=gA+1>e3;z("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gB);return gB};var fO=function(){var gB=eL(eZ),gz=gB?gB[ga]:null,gA=gz===1;z("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gA);return gA};var eC=function(){cv.set(a5,ew());cv.set(cd,cB.encode(fK()));cv.set(fe,eM());cv.set(fG,gw())};var fK=function(){var gz=bk()+"//"+x+"/api/site/1.0/"+bf()+"/leadhunter/script/"+cv.get(a5)+"/widget?visit_id="+o();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gz+'" frameborder="0"></iframe></div>'};var ew=function(){var gA=cv.getObject(r);if(gA===null){return}cv.set(ad,"");var gE=Number(cv.get(bS));var gI=Object.keys(gA);var gF=gI.sort()[0];if(!gE){return gF}for(var gD=0;gD<gI.length;gD++){var gJ=gA[gI[gD]];var gG=gJ.targetPageList;var gC=bV(gG.join(","));var gB=gG.length===0;var gz=Array.isArray(gJ.devicesFilter)&&gJ.devicesFilter.length>0?gJ.devicesFilter.indexOf(H())!==-1:true;var gH=(gB||gC)&&gz&&(!gJ.timetable.isEnabled||Q(gJ.timetable));if(gH){gF=gI[gD];cv.set(ad,gF)}}return gF};var eM=function(){var gz=fB();return gz!==null?gz.targetPageList.join(","):""};var gw=function(){var gz=fB();return gz!==null?Number(gz.isPulsatorEnabled):0};var fB=function(){var gz=cv.get(a5);var gA=cv.getObject(r);return gA!==null&&gA[gz]!==null?gA[gz]:null};cy.roistatLeadHunterShow=fj;cy.roistatRenderPhoneMask=e4;cy.roistat.leadHunter.localization.translateToRussian=function(){fE(cs)};cy.roistat.leadHunter.localization.translateToEnglish=function(){fE(aE)};cO(fF)},multiwidget:function(){var fb="roistat-multiwidget-hidden",fm="roistat-multiwidget-pulsator-phone",fk="roistat-multiwidget-pulsator-popup-item-lead-hunter",eG="roistat-multiwidget-pulsator-fill",fp="roistat-multiwidget-pulsator-fill-svg",e1="roistat-multiwidget-pulsator-img-icon",eF="roistat-multiwidget-pulsator-popup-item-chat",es="roistat-multiwidget-pulsator-popup-item-facebook",ey="roistat-multiwidget-pulsator-popup-item-vk",e0="roistat-multiwidget-pulsator-popup-item-telegram",eO="roistat-multiwidget-pulsator-popup-item-whats-app",eM="roistat-multiwidget-pulsator-popup-item-viber",e6="roistat-multiwidget-pulsator-overlay",e5="roistat-multiwidget-pulsator-items-popup-holder",eU="roistat-multiwidget-pulsator-popup-header-wrapper",eZ="iframe_chat_successfully_loaded",ez="roistat-multiwidget-pulsator-popup-tail",eW="roistat-online-chat-popup-wrapper",fo="roistat-online-chat-popup-wrapper-hidden",fi="roistat-multiwidget-pulsator-holder-hidden";
var eE,e4,eP,eI,eK,fl,ep,ev,fn,eV,eB,er,eC,et,fe,eu;var eL=false;var eT=true;var fj={topLeft:{bottom:"unset",right:"unset",top:dO()?0:"20px",left:dO()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:dO()?0:"35px",top:dO()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:bL()?0:"20px",right:bL()?"6px":"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:dO()?0:"20px",right:"unset",top:"unset",left:dO()?0:"35px",transformOrigin:"bottom left"}};var ex={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eN={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function fa(fr){z("Multiwidget: "+fr)}function eY(){e4=ed(eE,fm);eP=ed(eE,e5);eK=ed(eE,eU);eI=ed(eE,e6);eV=ed(eP,fk);fl=ed(eE,ez);eB=ed(eP,eF);er=ed(eP,ey);eC=ed(eP,es);et=ed(eP,e0);fe=ed(eP,eO);eu=ed(eP,eM);ep=ed(e4,eG);ev=e4.getElementsByClassName(fp);fn=ed(e4,e1)}function fd(){if(bL()&&em(eI)&&em(eP)){if(eP.classList.contains(fb)){ew(eI)}else{e8(eI)}}}function eH(){if(em(eP)){eP.classList.toggle(fb)}fd()}function fh(fr){if(em(fr)){fr.classList.toggle("opened")}}function fq(){fa("add pulsator events");el(e4,"click",function(){if(!eR()){eH()}fh(e4)});el(eK,"click",function(){if(!eR()){eH()}fh(e4);fd()});el(eI,"click",function(){if(!eR()){eH()}fh(e4);fd()});el(eV,"click",function(){fa("opening leadhunter via multiwidget");cy.roistatLeadHunterShow();eH();d2(e4,"opened",false)});el(eB,"click",function(){fa("opening online chat via multiwidget");cy.roistatOnlineChatShow();eH()});el(er,"click",function(){cy.open(cv.get(c5),"_blank")});el(eC,"click",function(){cy.open(cv.get(dr),"_blank")});el(et,"click",function(){cy.open(cv.get(bA),"_blank")});el(fe,"click",function(){cy.open(cv.get(bQ),"_blank")});el(eu,"click",function(){cy.open(cv.get(cT),"_blank")})}function eR(){var fr=ed(M,eW);return em(fr)&&!fr.classList.contains(fo)}function eS(){return em(e5)&&!e5.classList.contains(fb)}function ew(fr){if(em(fr)){fr.classList.add(fb)}}function e8(fr){if(em(fr)){fr.classList.remove(fb)}}function e2(){ew(eV)}function eQ(){fa("hiding disabled multiwidget options");var fr=Number(cv.get(bS)),fs=Number(cv.get(cf)),fu=Number(cv.get(U)),fx=Number(cv.get(cQ)),ft=Number(cv.get(c1)),fw=Number(cv.get(dU));var fv=0;if(!fr||!d1||!dV){fa("hiding leadhunter option");e2()}if(!d5()||!eL){fa("hiding online chat option");ew(eB)}if(d5()){fv++}if(!fs){fa("hiding vk-messenger option");ew(er)}else{fv++}if(!fu){fa("hiding fb-messenger option");ew(eC)}else{fv++}if(!fx){fa("hiding telegram-messenger option");ew(et)}else{fv++}if(!ft){fa("hiding whatsApp-messenger option");ew(fe)}else{fv++}if(!fw){fa("hiding Viber-messenger option");ew(eu)}else{fv++}eT=fv>1;if(bL()&&eT){fa("hiding popup header");e8(eK)}}function eq(){var fs=cv.getObject(f);fa("start filling pulsator");if(fs){if(em(ep)){ep.setAttribute("style","background: "+fs.button_color+";")}if(em(fn)){fn.setAttribute("style","fill: "+fs.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(ev)){for(var fr=0;fr<ev.length;fr++){ev[fr].setAttribute("style","fill: "+fs.button_color+";")}}}}function e7(){var fr=cv.getObject(f);return fr!==null&&typeof fr.position==="string"&&fr.position!==""?fr.position:"bottomRight"}function e3(){if(em(eE)){var fr=e7();eE.setAttribute("style","top: "+fj[fr].top+";right:"+fj[fr].right+";bottom:"+fj[fr].bottom+";left:"+fj[fr].left+";");eE.style.transformOrigin=fj[fr].transformOrigin;eE.style.transform=ei()}}function eJ(){if(em(e4)){var fr=e7();var fs="transform: "+d0()+";";var ft=fr==="topLeft"||fr==="bottomLeft"?"margin-right":"margin-left";e4.setAttribute("style",ft+": auto;"+fs)}}function e9(){if(em(eP)){var fr=e7();var fs=bL()?"0":ex[fr].bottom;var ft=bL()?"unset":ex[fr].top;eP.setAttribute("style","top: "+ft+";right:"+ex[fr].right+";bottom:"+fs+";left:"+ex[fr].left+";")}}function eA(){if(em(fl)){var fr=e7();fl.setAttribute("style","top: "+eN[fr].top+";right:"+eN[fr].right+";bottom:"+eN[fr].bottom+";left:"+eN[fr].left+";border-top-color:"+eN[fr]["border-top-color"]+";border-right-color:"+eN[fr]["border-right-color"]+";border-bottom-color:"+eN[fr]["border-bottom-color"]+";border-left-color:"+eN[fr]["border-left-color"]+";")
}}function ff(){e3();eJ();if(!bL()){e9();eA()}}function eD(){if(bZ&&M.body===null){return}var fs=cB.decode(cv.get(dl));if(fs){fa("appending multiwidget pulsator");var fr=M.createElement("div");fr.innerHTML=fs;eE=fr.childNodes.item(0);if(!cy.roistat.multiwidget.isVisible){fa("Hide widget");eE.className=eE.className+" "+fi}M.body.appendChild(eE);eY();eQ();eq();ff();fq()}}function eX(){var fx=cv.getObject(au);if(!fx){var fz=parseInt(cv.get(bm));fz=!isNaN(fz)?Boolean(fz):roistat.multiwidget.isEnabled;var fs=Boolean(parseInt(cv.get(cf)))||roistat.multiwidget.vk.isEnabled;var fB=cv.get(c5);fB=fB!=="null"?fB:roistat.multiwidget.vk.link;var fw=Boolean(parseInt(cv.get(U)))||roistat.multiwidget.fb.isEnabled;var fA=cv.get(dr);fA=fA!=="null"?fA:roistat.multiwidget.fb.link;var ft=Boolean(parseInt(cv.get(cQ)))||roistat.multiwidget.telegram.isEnabled;var fC=cv.get(bA);fC=fC!=="null"?fC:roistat.multiwidget.telegram.link;var fr=Boolean(parseInt(cv.get(c1)))||roistat.multiwidget.whatsApp.isEnabled;var fv=cv.get(bQ);fv=fv!=="null"?fv:roistat.multiwidget.whatsApp.link;var fy=Boolean(parseInt(cv.get(dU)))||roistat.multiwidget.viber.isEnabled;var fu=cv.get(cT);fu=fu!=="null"?fu:roistat.multiwidget.viber.link;fx={is_enabled:fz,vk:{is_enabled:fs,link:fB},fb:{is_enabled:fw,link:fA},telegram:{is_enabled:ft,link:fC},whats_app:{is_enabled:fr,link:fv},viber:{is_enabled:fy,link:fu}}}db(fx)}function fc(){an(cy,"message",function fs(fv){var fu=typeof fv.data==="string"?fv.data:fv.data.message;if(fu===eZ){eL=true;e8(eB)}});function ft(){if(em(eE)){eE.style.transform=ei();e9();eA();if(!bL()){ew(eI);ew(eK);e8(fl)}else{fd();ew(fl);if(eT){e8(eK)}}}}an(cy,"resize",ft);if(ea){an(en,"resize",ft)}function fr(){if(em(e4)){e4.classList.toggle("opened")}}cy.roistatToggleMultiwidgetState=fr}function fg(){eX();cb();fc();fa("activated");dk(function(){eD();if(typeof cy.onRoistatMultiwidgetInited==="function"){cy.onRoistatMultiwidgetInited()}})}d6=e2;cO(fg)},onlineChat:function(){var fH="iframe-module-created",eE="iframe_chat_successfully_loaded",fK="iframe_resize",es="iframe-online-chat-opened",eA="iframe-online-chat-invite-message",f6="iframe-delivered-messages",fL="roistat-online-chat-init",fF="roistat-online-chat-init-with-text",fo="roistat-online-chat-open",fA="roistat-online-chat-close",ge="roistat-online-chat-reload",fY="roistat-online-chat-update-custom-params",eW="roistat-online-chat-lead_successfully_sent",fQ="roistat-online-chat-translate-form",e7="roistat-online-chat-send-lead",f1="roistat_chat_id",gd="roistat_chat_session",fI="roistat_chat_custom_position",fr="roistat-online-chat-page-resized",eN=10*365*24*60*60,eQ,eF,f2,eB,eG,fZ,fx,e1,fv;var fn="roistat-online-chat-popup-iframe",e4="roistat-online-chat-hidden",f3="roistat-online-chat-holder",fX="roistat-online-chat-popup-wrapper",fU="roistat-multiwidget-pulsator-phone",et="roistat-multiwidget-pulsator-popup-item-chat",fu="roistat-online-chat-popup-wrapper-hidden",e2="roistat-online-chat-popup-mouse-track",fm="roistat-online-chat-popup-mouse-track-active",e6="roistat-online-chat-pulsator-fill",f0="roistat-online-chat-pulsator-img",fe="roistat-online-chat-pulsator-phone",gg="roistat-online-chat-pulsator-circle",ez="."+gg,fT="roistat-online-chat-pulsator-notification-circle",gf="."+fT,eU="roistat-online-chat-pulsator-fill-svg",ft="roistat-online-chat-popup-spacer",eM=".roistat-multiwidget-pulsator-items-popup",eI=".roistat-online-chat-pulsator-phone",fj=".roistat-online-chat-popup-wrapper",eP="roistat-online-chat-full-screen";var eY=99;var fW="roistat-online-chat-pulsator-notification-limit";var e3=false,e5=false,gi=false,fy=0,ex=0;var fM={};var fq=".roistat-online-chat-holder";var fd="roistat-online-chat-holder-hidden";if(d9()){fq=".roistat-multiwidget-pulsator-holder";fd="roistat-multiwidget-pulsator-holder-hidden";gg="roistat-multiwidget-pulsator-circle";ez="."+gg;fT="roistat-multiwidget-pulsator-notification-circle";gf="."+fT;fW="roistat-multiwidget-pulsator-notification-limit"}var f7;var gc={topLeft:{bottom:"unset",right:"unset",top:bL()?"10px":"20px",left:bL()?"24px":"35px"},topRight:{bottom:"unset",right:bL()?"24px":"35px",top:bL()?"10px":"20px",left:"unset"},bottomRight:{bottom:bL()?"10px":"20px",right:bL()?"24px":"35px",top:"unset",left:"unset"},bottomLeft:{bottom:bL()?"10px":"20px",right:"unset",top:"unset",left:bL()?"24px":"35px"}};var gl=function(){return{topLeft:{top:bL()?"unset":"130px",right:"unset",bottom:bL()?"0px":"unset",left:bL()?0:"65px"},topRight:{top:bL()?"unset":"130px",right:bL()?0:"65px",bottom:bL()?"0px":"unset",left:"unset"},bottomRight:{top:"unset",right:bL()?0:"65px",bottom:bL()?0:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:bL()?0:"130px",left:bL()?0:"65px"}}};var f4={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var fE=function(gm){z("onlineChat: "+gm)};var eV=function(){function gm(){return Math.random().toString(36).substr(2,8)
}return gm()+gm()+gm()+gm()};var fs=function(){var gm=M.querySelector('meta[name="viewport"]');if(em(gm)){return gm.getAttribute("content")}return null};var ey=fs();var fz="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";var eH=function(){var gm=i(gd);if(!gm){gm=cv.get(gd)}if(!gm){gm=eV();var gn={expires:eN,path:"/"};if(da.domain){gn.domain=da.domain}cv.save(gd,gm,gn)}return gm};var ew=function(){var gm={message:fH,detail:{version:ac,language:s,projectKey:bf(),visitId:cP(),firstVisit:cv.get(a7),chatId:i(f1),moduleTargetOrigin:cy.location.origin,referrer:cy.location.href,params:eg,sessionUniqueKey:eH(),isOpened:f5(),isMobile:bL()}};fZ.contentWindow.postMessage(gm,fZ.src)};var eR=function(){var gm={message:es,detail:{isOpened:f5(),isMobile:bL()}};fZ.contentWindow.postMessage(gm,fZ.src)};var eT=function(){var gm={message:fY,detail:{params:eg,isMobile:bL()}};fZ.contentWindow.postMessage(gm,fZ.src)};var eq=function(){var gm={language:s,message:fQ};fZ.contentWindow.postMessage(gm,fZ.src)};var eX=function(gn){var gm={message:fF,detail:{message:gn,isMobile:bL()}};fZ.contentWindow.postMessage(gm,fZ.src)};var gk=function(gm){var gn={message:fo,detail:{chatId:gm,isMobile:bL()}};fZ.contentWindow.postMessage(gn,fZ.src)};var eL=function(){cy.focus();if(typeof cy.roistatOnlineChatToggle==="function"){cy.roistatOnlineChatToggle()}if(typeof cy.roistatToggleMultiwidgetState==="function"){cy.roistatToggleMultiwidgetState()}eC(f7)};var eO=function(){var gm={message:fr,detail:{isMobile:bL()}};fZ.contentWindow.postMessage(gm,fZ.src)};var eJ=function(gm){var gn={message:fK,isFullScreen:gi,iframeStyles:gm};fZ.contentWindow.postMessage(gn,fZ.src)};var fS=function(gm){var gn={expires:eN,path:"/"};if(da.domain){gn.domain=da.domain}df(f1,{path:"/"});dF(f1,gm,gn)};var fR=function(){an(cy,"message",function gm(gp){var go=typeof gp.data==="string"?gp.data:gp.data.message;var gn=typeof gp.data!=="string"?gp.data.detail:{};fE("event: "+go+" "+JSON.stringify(gn));switch(go){case eE:fV();cy.setRoistatOnlineChatCustomParams=fa;fa(eg);if(typeof cy.onRoistatOnlineChatInited==="function"){cy.onRoistatOnlineChatInited()}break;case fH:ew();break;case fL:fE("saving chat id = "+gn.chatId);fS(gn.chatId);break;case fF:fE("saving chat with text id = "+gn.chatId);if(cy.onRoistatChatInit!==bR&&typeof cy.onRoistatChatInit==="function"){cy.onRoistatChatInit(gn.chatId)}fS(gn.chatId);cy.roistatOnlineChatShow();break;case fo:fE("saving chat id by open chat = "+gn.chatId);fS(gn.chatId);cy.roistatOnlineChatShow();break;case fA:eL();break;case eA:fE("rendering invite message");fN(gn.message);break;case f6:fE("get delivered messages");gj(gn.messages);break;case fK:gi=gp.data.isFullScreen;if(bL()){eJ({});return}Object.assign(fM,{width:fZ.getBoundingClientRect().width,height:fZ.getBoundingClientRect().height,borderRadius:cy.getComputedStyle(fZ).borderRadius});fZ.classList.toggle(eP,gi);fZ.style.transition="unset";if(gi){Object.assign(fM,{top:f2.style.top,right:f2.style.right,bottom:f2.style.bottom,left:f2.style.left});f2.style.top=0;f2.style.right=0;f2.style.bottom=0;f2.style.left=0;f2.style.transition="unset"}else{f2.style.top=fM.top;f2.style.right=fM.right;f2.style.bottom=fM.bottom;f2.style.left=fM.left;fM={};setTimeout(function(){fZ.style.transition="height 0.5s ease-in";f2.style.transition="all 0.3s"},30)}eJ(fM);break;case e7:fE("sending lead");eS(gn.leadData)}})};var e9=function(){var gn=cy.roistat.onlineChat.notificationsCustomHolderSelector;var gm=gn!==null;return M.querySelector(gm?gn:fq)};var eS=function(gm){cy.roistatGoal.reach(gm,function(){fZ.contentWindow.postMessage(eW,fZ.src)})};var fN=function(gt){if(f5()){return}var go="<div class='roistat-online-chat-message'><img src='"+gt.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+gt.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+gt.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var gs=M.createElement("div");gs.innerHTML=go;var gr=e9();if(em(gr)){var gu=fw()?"beforeend":"afterbegin";gr.insertAdjacentHTML(gu,go);var gq=gr.getElementsByClassName("roistat-online-chat-message-close");var gm=gr.getElementsByClassName("roistat-online-chat-message");var gp=gq[fw()?gq.length-1:0];var gn=gm[fw()?gq.length-1:0]}setTimeout(function(){gn.remove()},15000);el(gn,"click",function(gv){gv.stopPropagation();if(!f5()){fP()}f8()});el(gp,"click",function(gv){gv.stopPropagation();gn.remove()})};var gj=function(go){var gs=e9();if(em(gs)){var gt=gs.querySelector(ez);var gn=gs.querySelector(gf);var gr=go>eY;var gq=gr?eY+"+":go;if(gn&&!go){gn.remove();return}if(gn){gn.textContent=gq;gn.classList.toggle(fW,gr);return}if(go){var gm=gr?fW:"";var gp='<div class="'+fT+gm+'">'+gq+"</div>";gt.insertAdjacentHTML("beforebegin",gp)
}}};var f8=function(){var gn=e9();if(em(gn)){var gm=gn.getElementsByClassName("roistat-online-chat-message");while(gm.length>0){gm[0].remove()}}};var gb=function(){fZ=M.getElementById(fn);if(em(fZ)){el(fZ,"load",function(){fl()})}el(M,"click",function(gr){var gq=cy.roistat.onlineChat.customTriggerSelector;if(d9()){var gs=ed(M,fU);var gp=ed(M,et);var go=f5()&&gr.target!==gp&&!gp.contains(gr.target);if(go){d2(gs,"opened",false)}}else{var gm=ed(M,f3);var gn=f5()&&gr.target!==gm&&!gm.contains(gr.target);if(gn){d2(gm,"opened",false)}}if(f5()&&(gr.target.closest(eM)===null&&gr.target.closest(fj)===null&&gr.target.closest(eI)===null&&(gq?gr.target.closest(gq)===null:true))){fP()}})};var er=function(go){var gn=f2.getBoundingClientRect().x;var gm=f2.getBoundingClientRect().y;e5=true;ev();fy=go.pageX-gn;if(fw()){ex=go.pageY+gm}else{ex=go.pageY-gm}};var fc=function(){e5=false;fO();eZ()};var ev=function(){if(em(eF)){eF.classList.add(fm)}};var fO=function(){if(em(eF)){eF.classList.remove(fm)}};var fB=function(gu){if(e5&&em(f2)){var gm=f2.getBoundingClientRect();var gt=gm.width;var gs=400;var gn=50;var gx=0;var gp=cy.innerHeight-gs;var gv=gu.pageX-fy;var gr=gn;var go=cy.innerWidth-gn-gt;if(fw()){gx=cy.innerHeight-(gu.pageY+gm.y)-20}else{gx=gu.pageY-ex}var gw=ga();var gq=gw==="bottomLeft"||gw==="bottomRight"?"top":"bottom";if(gv>=gr&&gv<=go){f2.style.left=gv+"px";if(!gh()){f2.style.right="unset"}}if(gx>=50&&gx<=gp){f2.style[gq]=gx+"px"}}};var eZ=function(){var gm={position:ga(),top:f2.style.top,left:f2.style.left,bottom:f2.style.bottom,right:f2.style.right};cv.setObject(fI,gm)};var ga=function(){var gm=cv.getObject(f);var gn=gm!==null&&typeof gm.position==="string"&&gm.position!=="";return gn?gm.position:"bottomRight"};var fw=function(){var gm=ga();return gm==="topLeft"||gm==="topRight"};var gh=function(){var gm=ga();return gm==="topLeft"||gm==="bottomLeft"};var e0=function(gn){var gm=Math.max(gn*eo(),gn)+"px";eB.style.height=gm;eB.style.marginBottom="-"+gn+"px"};var eD=function(){var gq=ga();var gt=cy.roistat.onlineChat.customPosition;var gs=gl();var gw=gt&&gt.top!==null?gt.top:gs[gq].top;var go=gt&&gt.right!==null?gt.right:gs[gq].right;var gm=gt&&gt.bottom!==null?gt.bottom:gs[gq].bottom;var gp=gt&&gt.left!==null?gt.left:gs[gq].left;f2=ed(eQ,fX);if(em(f2)){f2.classList.add(fu);f2.setAttribute("style","visibility: hidden;top: "+gw+";right:"+go+";bottom:"+gm+";left:"+gp+";");eB=ed(eQ,ft);if(em(eB)){var gu=parseInt(gw==="unset"?gm:gw);e0(gu);var gv=function(){if(bL()){f2.style.height=cy.visualViewport.height+"px"}else{f2.style.height="unset"}};gv();cy.addEventListener("resize",function gn(){e0(gu);gv();eO()});if(ea){en.addEventListener("resize",function gr(){e0(gu);gv();eO()})}}}};var f9=function(){var gm=ga();var gn=function(){if(em(f2)&&!gi){var gq=gl();f2.style.right=gq[gm].right;f2.style.left=gq[gm].left;f2.style.top=gq[gm].top;f2.style.bottom=gq[gm].bottom}};cy.addEventListener("resize",function gp(){gn()});if(ea){en.addEventListener("resize",function go(){gn()})}};var fb=function(){if(em(eF)){var gm=ga();eF.setAttribute("style","top: "+f4[gm].top+";bottom:"+f4[gm].bottom+";height:"+f4[gm].height+";")}};var e8=function(){if(em(f7)){var gm=ga();f7.setAttribute("style","top: "+gc[gm].top+";right:"+gc[gm].right+";bottom:"+gc[gm].bottom+";left:"+gc[gm].left+";")}};var fg=function(){if(bZ&&M.body===null){return}fE("iframe appending to page");var gm=cB.decode(cv.get(D));eQ=M.createElement("div");eQ.innerHTML=gm;M.body.appendChild(eQ);eF=ed(M,e2);eD();f9();gb()};var fi=function(){var gn=cv.getObject(f);fE("start filling pulsator");if(gn){if(em(fx)){fx.setAttribute("style","background: "+gn.button_color+";")}if(em(e1)){e1.setAttribute("style","fill: "+gn.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(fv)){for(var gm=0;gm<fv.length;gm++){fv[gm].setAttribute("style","fill: "+gn.button_color+";")}}}};var fV=function(){if(bZ&&M.body===null){return}var gn=cB.decode(cv.get(bB));var gp=!cZ()&&cy.roistatOnlineChatOnly;var go=(gn&&!d9()&&d5())||gp;if(go){fE("pulsator appending to page");var gm=M.createElement("div");gm.innerHTML=gn;f7=gm.childNodes.item(0);if(!cy.roistat.multiwidget.isVisible){fE("Hide widget");f7.className=f7.className+" "+fd}fx=ed(f7,e6);e1=ed(f7,f0);eG=ed(f7,fe);fv=M.getElementsByClassName(eU);M.body.appendChild(f7);e8();eK();fi()}};var eK=function(){if(em(f7)){el(f7,"click",function(){fP();eC(f7)})}};function eC(gm){if(em(gm)){gm.classList.toggle("opened")}}var f5=function(){return em(f2)&&!f2.classList.contains(fu)};function fp(){var gm=M.querySelector("#roistat-theme-color");if(em(gm)){gm.remove()}}function eu(){var gm=M.createElement("meta");if(em(gm)){gm.setAttribute("name","theme-color");gm.setAttribute("content","#2589FF");gm.setAttribute("id","roistat-theme-color");M.head.prepend(gm)}}var fG=function(){if(!f5()){fp();fk();return}var gm=Boolean(M.querySelector("#roistat-theme-color"));if(a3.Android()||a3.iOS()){fJ();if(!gm){eu()}}};var fJ=function(){var gm=M.querySelector('meta[name="viewport"]');if(!em(gm)){gm=M.createElement("meta");
gm.setAttribute("name","viewport");M.head.appendChild(gm)}gm.setAttribute("content",fz)};function fk(){var gm=M.querySelector('meta[name="viewport"]');if(em(gm)&&ey!==null){gm.setAttribute("content",ey);return}if(em(gm)){gm.remove()}}var fP=function(){setTimeout(function(){e5=false},3000);if(em(f2)){f2.classList.toggle(fu);fG()}if(f5()){f8()}eR()};var fD=function(){var gm=e9();if(em(gm)){gm.classList.toggle(fd)}};var ff=function(gm){s=gm;if(!em(fZ)){return}eq()};var fh=function(gm){if(!em(fZ)){return}eX(gm)};var ep=function(gm){if(!em(fZ)){return}gk(gm)};var fl=function(){e3=true;var gm=function(){setTimeout(function(){fP()},0)};cy.roistatOnlineChatShow=gm;cy.roistatOnlineChatToggle=gm;cy.roistatMultiwidgetShow=fD;fE("chat window initialized")};function fa(gm){dW(gm);eT()}function fC(){cb();dk(function(){fg();fR()})}cy.roistat.onlineChat.actions.initWithMessage=fh;cy.roistat.onlineChat.actions.openChat=ep;cy.roistat.onlineChat.localization.translateToRussian=function(){ff(cs)};cy.roistat.onlineChat.localization.translateToEnglish=function(){ff(aE)};cy.roistat.onlineChat.localization.translate=function(gp){var go=cI[cs].includes(gp),gn=cI[aE].includes(gp),gm=gp;if(go){gm=cs}if(gn){gm=aE}ff(gm)};cO(fC)}};function ec(ep){z("Widgets: "+ep)}function e(ep){return ep!==ek}function dW(er){var eq=Object.keys(er);for(var ep=0;ep<eq.length;ep++){eg[eq[ep]]=er[eq[ep]]}}function d9(){var ex=Number(cv.get(bS)),eq=ex&&d1&&dV,eB=Number(cv.get(bm)),et=d5(),ey=Number(cv.get(cf)),eu=Number(cv.get(U)),ep=Number(cv.get(cQ)),es=Number(cv.get(c1)),eA=Number(cv.get(dU)),ez=eq||et||ey||eu||ep||es||eA,er=eq&&!et&&!ey&&!eu&&!ep&&!es&&!eA,ew=et&&!eq&&!ey&&!eu&&!ep&&!es&&!eA,eC=!cZ()&&cy.roistatOnlineChatOnly,ev=cZ()&&dI();z("Is online chat only: "+eC);z("Is rp: "+eC);return eB&&ez&&!ew&&!er&&!eC&&!ev}function d5(){var ep=Number(cv.get(c2));if(!ep){z("OnlineChat: Online chat is disabled");return false}var eq=cv.getObject(C);if(eq===null){return false}if(!eq.is_available_for_current_user_agent){z("OnlineChat: Current device group is disabled");return false}if(!eq.pages_filter.is_enabled){z("OnlineChat: Pages filter is disabled");return true}return bV(eq.pages_filter.pages.join(","))}function d6(){ec("Multiwidget disabled. Hide leadhunter pulsator from module")}function dY(ep,er,eq){cv.set(cd,cB.encode(ep));cv.set(bF,cB.encode(er));cv.setObject(cc,eq)}function d4(eq,ep){cv.set(dl,cB.encode(eq));cv.setObject(f,ep)}function d3(er,ep,eq){cv.set(bB,cB.encode(er));cv.set(D,cB.encode(ep));cv.set(c2,eq)}function d8(ep,er,eq){dY(ep,er,eq);cv.set(dl,cB.encode(ek));cv.set(D,cB.encode(ek));eb=false;eh.leadHunter()}function dX(eA,ew,eu){var er=eA.form_template,eB=eA.pulsator_template,et=eA.pulsator_settings;if(dI()){d8(er,eB,et);return}ec("start initing widgets");var ex=eu.pulsator_template,es=eu.iframe_template,ez=ew.pulsator_template,ep=ew.pulsator_settings,ev=Number(cv.get(bS)),eq=Number(eu.settings.is_enabled),ey=cv.getObject(r)!==null;dY(er,eB,et);d4(ez,ep);d3(ex,es,eq);if(ey){cv.set(cd,cB.encode(dZ()))}eb=true;if(ev&&!aS()){ec("leadhunter enabled. Start processing");eh.leadHunter()}if(d5()){ec("online chat enabled. Start processing");eh.onlineChat()}if(d9()){ec("multiwidget enabled. Start processing");eh.multiwidget()}}var dZ=function(){var ep=bk()+"//"+x+"/api/site/1.0/"+bf()+"/leadhunter/script/"+cv.get(a5)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+ep+'" frameborder="0"></iframe></div>'};function ej(){var er=cv.get(cd),eC=cv.get(bF),et=cv.getObject(cc),ew=Number(cv.get(bS)),ex=cv.get(bB),es=cv.get(D),eq=cv.get(c2),ez=cv.get(dl),ep=cv.getObject(f);cy.roistatLeadhunterForm=d8;cy.roistatMultiwidget=dX;if(!er||!eC||!et||!ez||!ep||!ex){ec("requesting data from server");if(d9()||d5()||ew){a6(bk()+"//"+x+"/api/site/"+ap+"/"+bf()+"/multiwidget?domain="+encodeURIComponent(M.domain))}}else{var eB=cB.decode(ez);var ey=cB.decode(es);if((!e(eB)||!e(ey)||dI())&&!aS()){ec("initing LeadHunter form");cy.roistatLeadhunterForm(cB.decode(er),cB.decode(eC),et)}else{ec("initing multiwidget form");var eu={pulsator_template:eB,pulsator_settings:ep},ev={form_template:cB.decode(er),pulsator_template:cB.decode(eC),pulsator_settings:et},eA={iframe_template:ey,pulsator_template:cB.decode(ex),settings:{is_enabled:Number(eq)}};cy.roistatMultiwidget(ev,eu,eA)}}}function d7(){ej();ec("form initialized")}function ef(){ec("activated");d7()}cO(ef);cy.setRoistatOnlineChatCustomParams=dW;cy.roistatSaveLeadHunterTemplates=dY;cy.roistatSaveMultiwidgetTemplate=d4;cy.roistatSaveOnlineChatTemplate=d3})();(function t(){var d8=function(){return i(dM)};var dY=function(){return i(V)};var d6=function(){return cv.get(bu)};var dZ=function(){return cv.get(bH)};var ec=function(ee){return ee!=null&&ee!==bR&&ee!==""};var eb=function(){var ee=[];var ef=M.getElementsByClassName(az);if(ef&&ef.length){ee=ef}return ee};var dW=function(){var ee=[];var ef=M.getElementsByClassName(L);if(ef&&ef.length){ee=ef
}return ee};var dV=function(){var ee=[];var ef=M.getElementsByClassName(ar);if(ef&&ef.length){ee=ef}return ee};var d1=function(){var ee=[];var ef=M.getElementsByClassName(O);if(ef&&ef.length){ee=ef}return ee};var d4=function(){var ee=[];var ef=M.getElementsByClassName(dE);if(ef&&ef.length){ee=ef}return ee};var e=function(el,em,ej){z("CallTracking: RenderPhone phone = "+el);var ef=function(ey){return ey.split(/[^0-9]/).join("")};var eu=function(eB,eD){var eG=null;if(!eB){return eG}var ey=eD.split(",");if(ey.length<2){eG=eD}else{var ez=eB.getAttribute("data-prefix");if(ez){for(var eC=0;eC<ey.length;eC++){var eE=ey[eC];var eF=ef(eE);if(eF.indexOf("8")===0){eF="7"+eF.substring(1)}var eA=eF.split(ez)[0]==="";if(eA){eG=eE;break}}}if(eG===null){eG=ey[0]}z("CallTracking._getPhoneForElement: Prepared phone = "+eG+" for data-prefix = "+ez)}return eG};var ev=function(eD,eB,eA){var eE=eu(eD,eB);var ey=eA||eE;if(!ey||!eD){return}if(eD.tagName.toLowerCase()!=="a"){return}var eC=eD.getAttribute("href");if(dp(eC,"tel:")){var ez=eA;if(!ez){ez=ef(ey);if(ez.indexOf("8")===0){ez="7"+ez.substring(1)}}eD.setAttribute("href","tel:+"+ez);eh(eD,eE)}};var eh=function(ez,ey){if(!ez.hasAttribute("title")){return}ez.setAttribute("title",ey)};var ep=function(eA,ez){var ey=eu(eA,ez);if(!ey||!eA){return}eA.innerHTML=ey};var eg=/^\D*(\d+)(?:[(|\s])/;var ek=/\((\d+)\)|\s(\d+)\s/;var ei=/(\(\d+\)|\s\d+\s)(.+)/;var eq=function(eA,eD){var ez=eu(eA,eD);var eC=ez.match(eg);var eB=bE(eC)?eC[1]:"";var eE=ez.match(ek);var ey=(bE(eE)?(eE[1]||eE[2]):"").trim();var eF=ez.match(ei);var eG=(bE(eF)?eF[2]:"").trim();return{country:eB,region:ey,number:eG}};var ew=function(ez,ey){var eA=eb();z("CallTracking: render phone default classes for "+eA.length+" elements");q(eA,function(eB){ep(eB,ez);ev(eB,ez,ey)});q(dW(),function(eC){var eB=eq(eC,ez).country;ep(eC,eB)});q(dV(),function(eC){var eB=eq(eC,ez).region;ep(eC,eB)});q(d1(),function(eB){var eC=eq(eB,ez).number;ep(eB,eC)});q(d4(),function(eB){ev(eB,ez,ey)})};var es=function(eE,ez,eA){if(!eA){return}z("CallTracking: render phone user replacement for "+eA.length+" replacements");for(var eC=0;eC<eA.length;eC++){var eF=eA[eC];if(!eF){continue}var eG=eF[0];eF=eF.substr(1);var ey=[];if(eG==="#"){var eD=M.getElementById(eF);if(eD!==null){ey.push(eD)}}else{ey=M.getElementsByClassName(eF);ex(eF,eE,ez)}if(!ey||ey.length<1){continue}z("CallTracking: render phone for "+eF+", "+ey.length+" elements");for(var eB=0;eB<ey.length;eB++){ep(ey[eB],eE);ev(ey[eB],eE,ez)}}};var er=function(ey){for(var ez=0;ez<ey.length;ez++){es(ey[ez].phone,ey[ez].raw_phone,ey[ez].css_selectors);eo(ey[ez].phone,ey[ez].raw_phone,ey[ez].replaceable_numbers)}};var eo=function(eB,eA,ez){if(!ez||ez.length===0){return}var ey=function(){var eM=eF();var eL=M.getElementsByTagName("*");var eG=eL.length;for(var eK=0;eK<eG;eK++){var eN=eL[eK];eC(eN,eM,eu(eN,eB));var eJ=eN.childNodes.length;for(var eH=0;eH<eJ;eH++){var eI=eN.childNodes[eH];eE(eI,eM,eu(eI,eB))}}};var eC=function(eK,eJ,eG){if(!eD(eK)){return}var eL=eK.getAttribute("href").replace("tel:","");var eI=eJ.length;for(var eH=0;eH<eI;eH++){if(eJ[eH].test(eL)){ev(eK,eu(eK,eG),eA)}}};var eD=function(eH){if(eH.tagName.toLowerCase()!=="a"){return false}var eG=eH.getAttribute("href");return ba(eG)&&eG.indexOf("tel:")===0};var eF=function(){var eI=[];for(var eG=0;eG<ez.length;eG++){var eH="[\\s()[\\]{}\\-+.]*";var eJ=ez[eG].split("").join(eH);eI.push(new RegExp("[+(]?"+eJ,"g"))}return eI};var eE=function(eJ,eI,eG){if(eJ.nodeType!==Node.TEXT_NODE){return}for(var eH=0;eH<eI.length;eH++){if(eJ.textContent&&eI[eH].test(eJ.textContent)){eJ.textContent=eJ.textContent.replace(eI[eH],eG)}else{if(eJ.innerText&&eI[eH].test(eJ.innerText)){eJ.innerText=eJ.innerText.replace(eI[eH],eG)}}}};ey()};var ex=function(eA,ez,ey){q(et(eA+"-"+b1),function(eC){var eB=eq(eC,ez).country;ep(eC,eB)});q(et(eA+"-"+aY),function(eC){var eB=eq(eC,ez).region;ep(eC,eB)});q(et(eA+"-"+bt),function(eB){var eC=eq(eB,ez).number;ep(eB,eC)});q(et(eA+"-"+cj),function(eB){ev(eB,ez,ey)})};var et=function(ez){var ey=[];var eA=M.getElementsByClassName(ez);if(eA&&eA.length){ey=eA}return ey};var en=function en(){var ez=dZ();if(ez){ez=ez.split("\n");for(var ey=0;ey<ez.length;ey++){ez[ey]="."+ez[ey]}}if(ej instanceof Array){er(ej)}else{ew(el,em);es(el,em,ez)}};(function ee(){en();var ey=[300,5000,15000];ey.forEach(function(ez){setTimeout(en,ez)})})()};var dX=function(ee){cv.save(n,ee,da)};var d7=function(){if(cy.roistat.callTracking.phone){var ee={expires:parseInt(cy.roistat.callTracking.sessionTime),path:"/"};if(da.domain){ee.domain=da.domain}dF(dM,cy.roistat.callTracking.phone,ee);dF(V,cy.roistat.callTracking.rawPhone,ee);dX(1);cv.save(bH,cy.roistat.callTracking.replacementClasses,da);cv.save(bu,cy.roistat.callTracking.phoneScriptsJson,da)}};var d5=function(eg,ek,ei,eh,ef){z("CallTracking: reuse phone "+eg+" for time "+ek+" and replacements "+ei);var ee='script[data-roistat-script-id="'+aa+'"]';M.querySelectorAll(ee).forEach(function(en,em){if(em===0){return
}en.remove()});z("CallTracking: all old scripts removed");if(!ec(eg)){z("CallTracking: new phone is invalid");roistat.callTracking.phone=null;ds();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=eg;roistat.callTracking.sessionTime=ek;roistat.callTracking.replacementClasses=ei;roistat.callTracking.phoneScriptsJson=eh;roistat.callTracking.rawPhone=ef;ds();d7();var el={expires:parseInt(ek),path:"/"};if(da.domain){el.domain=da.domain}dF(dM,eg,el);dF(V,ef,el);cv.save(bu,eh,da);cv.save(bH,ei,da);var ej=dx(eh);e(eg,ef,ej)};var d0=function(){z("CallTracking: request new phone");var ee=i(co);var ei=av();var eh=ei?ei:bI;var eg=encodeURIComponent(cM);var ef=S()+"/get-phone?visit="+ee+"&marker="+(eh?eh:"")+"&prefix="+cW+"&prefix_bind="+dN+"&phone_scripts_bind="+X+"&page="+eg;a6(ef,aa)};var d2=function(){cW=cy.roistatPhonePrefix?cy.roistatPhonePrefix:"";dN=cy.roistatPhonePrefixBind?cy.roistatPhonePrefixBind:"";X=cy.roistatCalltrackingScripts&&cy.roistatCalltrackingScripts.join?cy.roistatCalltrackingScripts.join(","):"";z("CallTracking: refresh phone with prefix: "+cW+", binding: "+dN+", scripts: "+X);d0()};var ed=function(){var ee=cv.get(n)>0;var ef=ce.callTrackingEnabled;return ee&&ef};var d3=function(ee){dX(ee.is_enabled)};var ea=function ea(){var ef=d8();if(!ec(ef)){z("CallTracking: invalid phone "+ef+", requesting a new one");d0()}else{z("CallTracking: render phone "+ef);var ee=dY();var eg=dx(d6());e(ef,ee,eg)}};var d9=function(){z("CallTracking: init");if(aS()){z("CallTracking: Shut down because only online chat need to be inited");return}d7();if(!ed()){z("CallTracking: disabled, skip");return}if(ce.callTrackingManual){z("CallTracking: init finish because off manual");return}ea();aF(ea)};cy.roistatCallTrackingRefresh=d2;cy.roistatRequestNewPhone=d0;cy.roistatReusePhone=d5;cy.roistatCalltrackingUpdateSettings=d3;cO(d9)})();(function G(){var dW=function(d2){z("Emailtracking: "+d2)};var d0=function(d2,d4,d3){cv.save(bG,d2,da);cv.save(b,d4,da);cv.save(bW,JSON.stringify(d3),da)};var dV=function(){var d2=(cy.roistat.emailtracking.email&&cy.roistat.emailtracking.trackingEmail)||aZ(cy.roistat.emailtracking.emails);if(cy.roistat.emailtracking.loaded&&d2){dW("save loaded email: "+cy.roistat.emailtracking.email);d0(cy.roistat.emailtracking.email,cy.roistat.emailtracking.trackingEmail,cy.roistat.emailtracking.emails)}else{dW("settings save skip, because not loaded");cy.roistat.emailtracking.email=cv.get(bG);cy.roistat.emailtracking.email=cy.roistat.emailtracking.email?cy.roistat.emailtracking.email:null;cy.roistat.emailtracking.email=cy.roistat.emailtracking.email==="null"?null:cy.roistat.emailtracking.email;dW("email loaded from storage: "+cy.roistat.emailtracking.email);cy.roistat.emailtracking.trackingEmail=cv.get(b);cy.roistat.emailtracking.trackingEmail=cy.roistat.emailtracking.trackingEmail?cy.roistat.emailtracking.trackingEmail:null;cy.roistat.emailtracking.trackingEmail=cy.roistat.emailtracking.trackingEmail==="null"?null:cy.roistat.emailtracking.trackingEmail;dW("tracking email loaded from storage: "+cy.roistat.emailtracking.trackingEmail);cy.roistat.emailtracking.emails=dx(cv.get(bW));cy.roistat.emailtracking.emails=cy.roistat.emailtracking.emails?cy.roistat.emailtracking.emails:null;dW("emails loaded from storage: "+JSON.stringify(cy.roistat.emailtracking.emails))}};var dY=function(d2){d0(d2.email,d2.trackingEmail,d2.emails)};var dX=function(){var d2=(!!cy.roistat.emailtracking.email&&!!cy.roistat.emailtracking.trackingEmail)||aZ(cy.roistat.emailtracking.emails);return cy.roistat.emailtracking.enabled&&d2};var e=function(){if(!dX()){dW("emailtracking disabled, skip swapping");return}var d3=function(d8,d9,d7){if(d8.href){var d6=aM(d8.href);if(d9.test(d6)){d8.href=d6.replace(d9,d7);return true}}if(d8.nodeType!==3){return false}if(d8.textContent&&d9.test(d8.textContent)){d8.textContent=d8.textContent.replace(d9,d7);return true}else{if(d8.innerText&&d9.test(d8.innerText)){d8.innerText=d8.innerText.replace(d9,d7);return true}}return false};var d2=function(d6){return d6.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var d4=function(d8,d7){var d6=!d7.match(/[a-z]/);return d6?d8.toUpperCase():d8};var d5=function(ee,eg){var eh=d2(ee);var d8=new RegExp("(^|\\s)(mailto:)?("+eh+")($|\\s|\\?)","gi");var ei=function(en,el,ej,ek,em){ej=ej||"";return el+ej+d4(eg,ek)+em};dW("starting to replace email "+ee+" to "+eg+" with regexp "+d8);var d7=M.getElementsByTagName("*");var ea=d7.length;dW("found "+ea+" nodes on page");var ed=0;for(var ec=0;ec<ea;ec++){var d9=d7[ec];var ef=d9.childNodes.length;if(ef>0){for(var eb=0;eb<ef;eb++){var d6=d9.childNodes[eb];if(d3(d6,d8,ei)){ed++}}}if(d3(d9,d8,ei)){ed++}}dW("successfully replaced "+ed+" nodes")};if(cy.roistat.emailtracking.emails){bx(cy.roistat.emailtracking.emails,d5)}else{d5(cy.roistat.emailtracking.email,cy.roistat.emailtracking.trackingEmail)}};var dZ=function(){dW("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()
},15000)};var d1=function(){dW("init");if(aS()){dW("Shut down because only online chat need to be inited");return}aF(dZ);dV();dZ()};cy.roistatEmailtrackingUpdateSettings=dY;cy.roistat.emailtracking.refresh=e;cO(d1)})();(function bz(){var dX=function(dZ){z("MultiDomain: "+dZ)};var dW=function(){return cv.get(dc)>0};var dV=function(d3){var d4=function(d6){if(!d6){return false}if(dp(d6,"roistat_visit")){return false}var d5=bj(d6);var d8=bj(M.domain);var d7=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return d5!==d8&&d7.test(d6)};var d2=function(d8){var d9=d8.split("#");var d7=d9[0].split("?");var d5="";var d6="";if(d7.length===2){d5=d7[1]}if(d5){d6="&"}d5=d5+d6+"roistat_visit="+roistat.getVisit();d7[1]=d5;d9[0]=d7.join("?");return d9.join("#")};if(d3.tagName.toLowerCase()!=="a"){return}var d1=d3.getAttribute("href");var d0=false;if(d4(d1)){var dZ=d2(d1);dX("update url "+d1+" > "+dZ);d3.setAttribute("href",dZ);d0=true}return d0};var e=function(){if(!dW()){dX("disabled, skip");return}var dZ=M.getElementsByTagName("a");var d0=dZ.length;dX("found "+d0+" <a> nodes on page");var d3=0;for(var d1=0;d1<d0;d1++){var d2=dZ[d1];if(dV(d2)){d3++}}dX("replaced "+d3+" nodes")};var dY=function(){dX("init");if(aS()){dX("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cO(dY);aF(dY)})();(function dn(){var e=60*1000;var d1=2*60*1000;var dV=function(d3){z("SettingsUpdater: "+d3)};var dZ=function(){cv.set(ag,cC())};var d0=function(){var d4=du();var d3=!(d4>0);dV("is first update check: lastUpdateTime="+d4+", result="+(d3?1:0));return d3};var d2=function(){var d5=cC()-d1;var d4=du();var d3=d4<=d5;dV("expiration check: _minTime="+d5+", lastUpdateTime="+d4+", result="+(d3?1:0));return d3};var dW=function(d4){var d3=i(co);a(d3,d4)};var dX=function(d4){dV("update settings and save last update time");var d3=cv.getObject(r)!==null;if(d3){var d5=dx(d4.js_settings.leadHunterTargetPagesMap);if(d5!==null){cv.setObject(r,d5)}}cy.roistatCalltrackingUpdateSettings(d4.calltracking);cy.roistatEmailtrackingUpdateSettings(d4.emailtracking);cy.roistatSaveLeadHunterTemplates(d4.leadhunter_templates.form_template,d4.leadhunter_templates.pulsator_template,d4.leadhunter_templates.pulsator_settings);cy.roistatSaveMultiwidgetTemplate(d4.multiwidget_templates.pulsator_template,d4.multiwidget.pulsator_settings);cy.roistatSaveOnlineChatTemplate(d4.online_chat_templates.pulsator_template,d4.online_chat_templates.iframe_template);cy.roistatSaveProxyFormSettings(d4.proxy_forms);bn(d4.js_settings);db(d4.multiwidget.multiwidget_settings);cz(d4.online_chat);v(d4.geo);cK(d4.promo_code);cq.isSettingsUpdating=false;dZ()};var dY=function(){dV("init");if(d0()){dV("in first update we just start first timer and skip");dZ();return}if(!d2()){dV("update is not not expired, skip");return}dV("start to update settings");dW()};cO(function(){cy.roistatUpdateSettings=dX;setTimeout(function(){dY()},3000);dV("set interval to update settings");setInterval(function(){dY()},e)})})();(function b6(dY,e,d0){var dX={};var dV=function(d2){var d1=encodeURIComponent?encodeURIComponent:encodeURI;return d1(d2)};var dW=function(d8,d2){z("Reach goal start");if(!d8){d8={}}var d5={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cP(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var d4 in d5){if(!Object.prototype.hasOwnProperty.call(d5,d4)){continue}if(!Object.prototype.hasOwnProperty.call(d8,d4)){continue}if(!d8[d4]){continue}if(d4==="fields"||d4==="client_fields"||d4==="items"||d4==="placeholders_data"){d8[d4]=JSON.stringify(d8[d4])}d5[d4]=dV(d8[d4])}var d7=bf();var d6=bk()+"//"+x+"/api/site/"+ap+"/"+d7+"/reach-goal?v=2";for(var d3 in d5){if(!Object.prototype.hasOwnProperty.call(d5,d3)){continue}d6=d6+"&"+d3+"="+d5[d3]}if(d2!==d0){var d1=Math.random().toString();dX[d1]=d2;d6+="&callback_key="+d1}a6(d6);z("Reach goal completed")};var dZ=dY.roistatGoal={reach:function(d2,d1){dW(d2,d1)},callAfterReachCallback:function(d1){if(Object.prototype.hasOwnProperty.call(dX,d1)){dX[d1]();delete dX[d1]}}}})(cy,M,bR);(function dH(dX,e,dY){var dV=function(d0){if(d0 instanceof Array||d0===null||typeof d0!=="object"){z("Invalid event data");return""}return dW(d0)};var dW=function(d1,d5,d4){var d3=d5||0;var d0=d4||[];if(d3>20){z("Recursion depth exceeded when processing additional event fields");return""}d3++;var d8=[];for(var d7 in d1){if(Object.prototype.hasOwnProperty.call(d1,d7)){var d6=d1[d7];if(typeof d6==="string"||typeof d6==="number"){var d2=d0.length>0?"["+d0.join("][")+"]":"";d8.push("&data"+d2+"["+encodeURIComponent(d7)+"]="+encodeURIComponent(d6))}else{if(typeof d6==="object"){d0.push(encodeURIComponent(d7));d8.push(dW(d6,d3,d0));d0.pop()}else{z("Event data property ignored: "+d7)}}}}return d8.length>0?d8.join(""):""};var dZ=function(d2,d4){z("Send event start");
var d0=o();var d3=dV(d4);I("Name: "+d2+" Data: "+d3+" VisitId: "+d0);var d1=S()+"/event/register?visit="+d0+"&event="+d2+d3;a6(d1);z("Send event completed")};dX.roistat.event={send:function(d0,d1){dZ(d0,d1)}}})(cy,M,bR);(function cw(d4,d6,dX){if(aS()){z("VisitApprove: Shut down because only online chat need to be inited");return}var d7=d4.roistatIsInitVisit===true?20000:10000;var dW=(new Date()).getTime();var dV=function(eb){return"approve_visit_"+eb};var d3=function(eb){cl.set(dV(eb),1)};var d8=function(eb){return cl.get(dV(eb))>0};var e,dZ,ea=[];if(d6.addEventListener){e=function(ec,eb,ed){return ec.addEventListener(eb,ed,false)};dZ=function(ec,eb,ed){return ec.removeEventListener(eb,ed,false)}}else{e=function(ec,eb,ed){return ec.attachEvent("on"+eb,ed)};dZ=function(ec,eb,ed){return ec.detachEvent("on"+eb,ed)}}var d2=function(ee){if(ea.length>30){return}ee=ee||d4.event;if(!ee||!ee.screenX){return}var ed=(new Date()).getTime();var eg,ef=null;if(ea.length>0){ef=ea[ea.length-1]}if(ef){eg=ed-ef.time}else{eg=ed-dW}if(eg<300){return}eg=eg-300;var ei=0;var eb=ee.screenX;var eh=ee.screenY;if(ef){ei=parseInt(Math.sqrt(Math.pow(ef.y-eh,2)+Math.pow(ef.x-eb,2)))}var ec={time:ed,pauseBeforeMove:eg,x:eb,y:eh,distance:ei};ea.push(ec)};var d1=function(){var eb=[];q(ea,function(ec){var ed=[ec.pauseBeforeMove,ec.distance];eb.push(ed.join(":"))});if(eb.length===0){eb.push("0:0")}return eb.join("|")};var dY=function(){for(var eb in d4){if(dp(eb,"yaCounter")){return true}}return false};var d5=function(){dZ(d6,"mousemove",d2);var eb=o();z("VisitApprove: start for visit "+eb);if(d8(eb)){z("VisitApprove: visit already approved, skip");return}d3(eb);aI();var ec=S()+"/approve?v="+ac+"&visit="+eb;if(d9()){ec+="&hash="+aA()}if(d0()){ec+="&page_params="+encodeURIComponent(JSON.stringify(d4.roistat.page.params));g()}ec+="&mv="+d1();ec+="&pl="+(d4.navigator?d4.navigator.platform:"");ec+="&ym="+(dY()?"1":"0");ec+="&wd="+(d4.navigator?(d4.navigator.webdriver===true?"1":"0"):"0");a6(ec)};var d9=function(){var ef=cq.cookies,ee=m();var eh=bp();for(var ec=0;ec<eh.length;ec++){var eg=eh[ec];var ei=Object.prototype.hasOwnProperty.call(ef,eg)?ef[eg]:dX;var eb=Object.prototype.hasOwnProperty.call(ee,eg)?ee[eg]:dX;var ed=typeof eb==="string"&&eb.length>0;if(ed&&ei!==eb){return true}}return false};var d0=function(){var eg=cq.pageParams,ed=d4.roistat.page.params;for(var ec=0;ec<cX.length;ec++){var eb=cX[ec];var ee=Object.prototype.hasOwnProperty.call(eg,eb)?eg[eb]:null;var ef=Object.prototype.hasOwnProperty.call(ed,eb)?ed[eb]:null;if(ef!==ee){return true}}return false};setTimeout(function(){d5()},d7);e(d6,"mousemove",d2)})(cy,M,bR);(function aG(d0,d1,dW){var dY=function(){return af("roistat_ab_demo")==="1"};var d2=function(d5){return new RegExp(d5.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var dZ=function(ea){var d5=d0.location.href,d8=ea.filter,ee=ea.filterValue;var eb;switch(d8){case"except":case"pages":var d6,ed,ec=false;ed=d5?aU(d5):"";eb=ee?ee.split("\n"):[];if(ed&&eb.length!==0){for(var d7=0;d7<eb.length;d7++){var d9=eb[d7].trim();if(d9.length===0){continue}d6=d2(d9);if(d6.test(ed)){ec=true;break}}}return(d8==="pages")?ec:!ec;break;case"all":default:return true}};var dV=function(d7){var d5=d1.getElementsByTagName("head")[0],d6;d6=d1.createElement("style");d6.setAttribute("type","text/css");if(d6.styleSheet){d6.styleSheet.cssText=d7.value}else{d6.innerText=d7.value}d5.appendChild(d6);z("Applied css-test: "+d7.id)};var e=function(d5){if(Object.prototype.hasOwnProperty.call(c9.onAbTestsApplied,d5.id)){c9.onAbTestsApplied[d5.id](d5.value)}z("Applied uniform-test: "+d5.id)};var dX=function(d5){if(dZ(d5)){switch(d5.type){case"css":dV(d5);break;case"uniform":e(d5);break}}};d0.applyTests=function(){z("Start applying ab tests");var d5=cv.getObject("abTesting");var d7,d6;for(d7 in d5){if(!Object.prototype.hasOwnProperty.call(d5,d7)){continue}d6=d5[d7];dX(d6)}cq.isAbTestsApplied=true;z("End applying ab tests");if(d0.onRoistatAbTestsApplied!==dW&&typeof d0.onRoistatAbTestsApplied==="function"){d0.onRoistatAbTestsApplied()}};var d3=function(){z("Call: apply demo AB test");var d5=af("roistat_ab_data");var d6;if(d5===null){return}else{d6=JSON.parse(cB.decode(d5))}if(typeof d6!=="object"){z("Error: testValue is not an object.");return}dX(d6)};function d4(){if(aS()){z("ABTest: Shut down because only online chat need to be inited");return}var d5=dY();if(!di&&!d5){applyTests()}if(d5){d3()}}d4()})(cy,M,bR);(function cU(dV,e,dW){if(aS()){z("visitStream: Shut down because only online chat need to be inited");return}if(!dm){return}setTimeout(function(){(function(d3,d2,d6,d5,d0,dY,d1){d3[d0]={COUNTER_ID:dY,HOST:d1};var dZ=d2.location.protocol=="https:"?"https://":"http://";var dX=d2.createElement(d6);dX.async=1;dX.src=dZ+d1+d5;var d4=d2.getElementsByTagName(d6)[0];d4.parentNode.insertBefore(dX,d4)})(dV,e,"script","/counter.js","datamap",bf(),dm)},1000)})(cy,M,bR);(function ct(dW,e,dX){var dY=function(){var dZ=dW.roistatMetrikaCounterId;if(dZ){cv.set(a8,dZ)
}};var dV=function(d4){var dZ="yaCounter"+d4;var d3=100,d1=0,d2=60000;var d0=function(){d1+=d3;z("YandexMetrika: trying to access counter "+d4);if(dW[dZ]===dX){if(d1<d2){setTimeout(d0,d3);d3*=2}return}var d5={};d5[c7]=o();dW[dZ].params(d5);z("YandexMetrika: visit id "+d5[c7]+" sent to counter "+d4)};setTimeout(d0,d3)};cO(function(){dY();var d1=cv.get(a8);if(!d1){z("YandexMetrika: counter id not found");return}var d0=String(d1).split(",");z("YandexMetrika: counters: "+d0);for(var dZ=0;dZ<d0.length;dZ++){if(d0[dZ].trim()===""){continue}dV(d0[dZ])}})})(cy,M,bR);(function aB(d4,d8){var ec=function(ef){z("Proxy Forms: "+ef)};var d1=function(){if(d4.roistat.proxyForms.loaded&&d4.roistat.proxyForms.settings.length>0){ec("save loaded settings");d9(d4.roistat.proxyForms.settings)}else{ec("settings not loaded, getting from storage");d4.roistat.proxyForms.settings=cv.getObject(dG)||[]}};var d9=function(ef){cv.setObject(dG,ef)};var d5=function(){ec("init form listener");dX(d4.roistat.proxyForms.settings);e(d4.roistat.proxyForms.settings)};var ee=function(ef){return ef.hasOwnProperty("hosts")&&ef.hasOwnProperty("is_excluding_hosts")&&bE(ef.hosts)&&ef.hosts.length>0};var dZ=function(eg){if(!ee(eg)){return true}var eh=dv(eg.hosts,bj(d4.location.host));var ef=Boolean(eg.is_excluding_hosts);return ef?!eh:eh};var dW=function(eg){var ef=[];q(eg,function(eh){if(dZ(eh)){ef.push(eh)}});return ef};var e=function(ef){var eh=[];q(ef,function(ei){if(ei.type==="js-button"){eh.push(ei)}});if(eh.length<1){ec("no button settings");return}var eg;if(d8.addEventListener){eg=function(ei){d0(eh,ei,ei.target,dY)};d8.addEventListener("click",eg,true)}else{if(d8.attachEvent){eg=function(){var ei=d4.event;d0(eh,ei,ei.srcElement,dY,true)};d8.attachEvent("onclick",eg)}else{ec("Listener could not be attached")}}};var dX=function(eg){I("Proxy form debug: start");var ef=[];q(eg,function(ei){if(ei.type==="form"){ef.push(ei)}});if(ef.length<1){ec("no form settings");return}if(d8.addEventListener){var eh=function(ei){d0(ef,ei,ei.target,ed)};d8.addEventListener("submit",eh,true)}else{if(d8.attachEvent){setInterval(function(){ef=dW(ef);var ei=d8.getElementsByTagName("form");q(ei,function(ej){if(ej.getAttribute("data-roistat-proxy-form-checked")==="true"){return}ej.setAttribute("data-roistat-proxy-form-checked","true");q(ef,function(ek){if(dV(ej,ek.selector)){ej.attachEvent("onsubmit",function(){d4.event.returnValue=false;I("Proxy form debug: start sending form lead");ed(ek,d4.event.srcElement)})}})})},2000)}else{ec("Listener could not be attached")}}};var d0=function(ei,ej,ek,eh,ef){var el=dW(ei);var eg=null;q(el,function(em){if(dV(ek,em.selector)){eg=em}});if(eg===null){ec("No matched settings found for listener");return}eh(ej,eg,ek,ef)};var ed=function(ej,eh,ei,eg){var ef=d7(ei,eh);if(!ea(ef,eh)){I("Proxy form debug: lead fields is not valid");return}eg?ej.returnValue=false:ej.preventDefault();I("Proxy form debug: sending lead");d2(ef,eh,function(){HTMLFormElement.prototype.submit.call(ei)})};var dY=function(eh,eg){var ef=d7(null,eg);if(!ea(ef,eg)){return}d2(ef,eg)};var d2=function(ef,ei,ek){var ej={};var eh=d3(ei.crm)&&ei.crm.hasOwnProperty("is_enabled");var eg=eh?ei.crm.is_enabled:true;ej.leadName=ei.hasOwnProperty("lead_name")?ei.lead_name:"Новый лид с формы "+ei.title;ej.formTitle=ei.title;ej.name=ef.name;ej.phone=ef.phone;ej.email=ef.email;ej.text=ef.comment;ej.fields=ef.fields;ej.placeholders_data=ef.placeholdersData;ej.is_need_callback=ei.is_need_callback>0?1:0;ej.is_skip_sending=!eg;d4.roistatGoal.reach(ej,ek)};var d3=function(ef){return(typeof ef==="number"&&!isNaN(ef))||(typeof ef==="string"&&ef!=="")||(typeof ef==="object"&&ef!==null)||(typeof ef==="boolean"&&ef)||bE(ef)};var ea=function(ef,eh){var eg=[],ej=["name","email","phone","comment"];q(ej,function(ek){if(eh.hasOwnProperty(ek)&&eh[ek].required>0){eg.push(ek)}});if(bE(eh.fields)){q(eh.fields,function(ek){if(ek.required>0){eg.push(ek)}})}var ei=true;q(eg,function(ek){if(!ef.hasOwnProperty(ek)||!d3(ef[ek])){ei=false}});return ei};var d7=function(eh,eg){var ef={};ef.name=eg.name?d6(eh,eg.name.value,eg.name.type):"";ef.phone=eg.phone?d6(eh,eg.phone.value,eg.phone.type):"";ef.email=eg.email?d6(eh,eg.email.value,eg.email.type):"";ef.comment=eg.comment?d6(eh,eg.comment.value,eg.comment.type):"";ef.fields={};ef.placeholdersData={orderPage:cM};if(bE(eg.fields)){q(eg.fields,function(ei){ef.fields[ei.name]=d6(eh,ei.value,ei.type)})}return ef};var d6=function(eg,ej,ef){switch(ef){case"plain":return ej||"";case"input":var ei=eg.querySelector('input[name="'+ej+'"]');return ei?ei.value:"";case"js":try{return(new Function(ej))()}catch(eh){return""}}};var eb=function(){ec("init");if(aS()){ec("Shut down because only online chat need to be inited");return}if(!d4.roistat.proxyForms.enabled){ec("disabled");return}d1();d5()};var dV=function(ei,eg){if(typeof Element!=="undefined"&&Element.prototype.matches){var ef=ei.matches(eg);if(!ef){return ei.closest(eg)?ei.closest(eg).matches(eg):false}return ef}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var ej=ei.matchesSelector(eg);
if(!ej){return ei.closest(eg)?ei.closest(eg).matches(eg):false}return ej}else{if(d8.querySelectorAll){var ek=d8.querySelectorAll(eg);for(var eh=0;eh<ek.length;eh++){if(ek[eh]===ei){return true}}return false}}}return false};cO(eb);d4.roistatSaveProxyFormSettings=d9})(cy,M);(function R(){if(cy.onRoistatAllModulesLoaded!==bR&&typeof cy.onRoistatAllModulesLoaded==="function"){z("onRoistatAllModulesLoaded: call");cy.onRoistatAllModulesLoaded()}})();(function bg(d1,d4,dY){var e=function(){return cv.get(aw)*1>0};var d3=function(ea){z("Request listener: "+ea)};var d9=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var d2=/^[^\s]+[@][^\s]+$/g;var dX=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dW=function dW(){d3("listen");if(d1.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function ec(ef){var ee=this;d5(ee.responseURL,ef,function(){ee.oldSend(ef)})}XMLHttpRequest.prototype.send=ec}if(d1.ActiveXObject){var eb=ed;function ed(eg){var ee=new eb(eg);var eh={};if(eg.toLowerCase()==="msxml2.xmlhttp"){eh={_ax:ee,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var ef="";eh._onReadyStateChange=function(){var ei=eh;return function(){ei.readyState=ei._ax.readyState;if(ei.readyState===4){ei.responseText=ei._ax.responseText;ei.responseXml=ei._ax.responseXml;ei.status=ei._ax.status;ei.statusText=ei._ax.statusText}if(ei.onReadyStateChange){ei.onReadyStateChange()}}}();eh.open=function(em,ek,el,ei,ej){ef=ek;el=(el!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(em,ek,el,ei,ej)};eh.send=function(ei){var ej=this;d5(ef,ei,function(){this._ax.send(ei)})}}else{eh=ee}return eh}d1.ActiveXObject=ed}if(d1.fetch){var ea=fetch;fetch=function(ee,ef){d5(ee.url,ef||{});return ea(ee,ef||{})}}d1.addEventListener("submit",function(eh){var ej=eh.target.elements;var ei={};for(var eg=0;eg<ej.length;eg++){var ef=ej[eg];var ee=ef.getAttribute("name");ei[ee]=ef.value}d5("",ei)})};function dZ(ea){var ed={};if(ea.length===0){return ed}var ec=ea.split("?");if(ec.length<2){return ed}var eb=ec[1];ed=dV(eb);return ed}function dV(eb){var ec=eb.split("&"),ee={};for(var ea=0;ea<ec.length;ea++){var ed=ec[ea].split("=");if(ed.length<2){continue}ee[ed[0]]=ed[1]}return ee}function d7(er){d3("data: "+JSON.stringify(er));var ek={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var eh={email:"",phone:"",name:""};for(var ea in ek){var en=ek[ea];for(var em in en){if(en.hasOwnProperty(em)){if(er.hasOwnProperty(en[em])){eh[ea]=er[en[em]];break}}}}d3("new data: "+JSON.stringify(eh));var ec=eh.phone.length===0;var eg=eh.email.length===0;if(!ec&&!eg){return eh}var eb=new RegExp(d2);var ef=new RegExp(d9);var ei=Object.keys(er);for(var eo=0;eo<ei.length;eo++){var el=decodeURIComponent(String(er[ei[eo]]));if(eg){var ed=el.match(eb);if(ed&&ed.length>0){var ej=eh.email;eh.email=ed[0];d3("parsing email, before: "+ej+", after: "+eh.email)}}if(ec){var eq=el.replace(/[\s-.()+*_—:;'"`]/g,"");var ep=eq.match(ef);if(ep&&ep.length>0){var ee=eh.phone;eh.phone=el;d3("parsing phone, before: "+ee+", after: "+eh.phone)}}}return eh}var d0=function(ea){var eb=bj(ea);return !aC(dX,eb)};function d5(ec,eb,ea){if(ec.length>0&&!d0(ec)){return}var ee=dZ(ec);var eg=eb;if(typeof eg==="string"){eg=dV(eg)}d3("data before parsing "+JSON.stringify({get:ee,post:eg}));var ef=d7(ee);var ed=d7(eg);d3("data after parsing "+JSON.stringify({get:ef,post:ed}));d6(ef,ed,ea)}function d6(ea,ec,eg){var ef=ea.email.length>0?ea.email:ec.email;var eb=ea.phone.length>0?ea.phone:ec.phone;var ee=ea.name.length>0?ea.name:ec.name;if(ef.length==0&&eb.length==0){eg();return}setTimeout(function(){eg()},100);var ed={leadName:"Автоматический лид с сайта",name:ee,phone:eb,email:ef,is_skip_sending:1};d3("phone or email is not empty, reaching goal "+JSON.stringify(ed));roistatGoal.reach(ed)}(function d8(){if(!e()){d3("disabled, skip");return}dW()})()})(cy,M,bR)})(window,document,undefined);